(window.webpackJsonp_8c4a6a562ec36ed6536c907cfb0e02ee=window.webpackJsonp_8c4a6a562ec36ed6536c907cfb0e02ee||[]).push([[5],{"81fD":function(e,t,n){"use strict";n.r(t),n.d(t,"ImageGridLayout",function(){return u});var a=n("17wl"),i=n("cDcd"),r=n("5pbq"),o=n("hiL/"),s=n("ut3N"),c=n("vqeV"),d=n("W6VI"),l=n("0uvb");n("jOlS").loadStyles('[dir=ltr] .a_a_9f38462c .ms-List-surface{margin-right:-20px}[dir=rtl] .a_a_9f38462c .ms-List-surface{margin-left:-20px}.a_a_9f38462c .ms-List-cell{display:inline-block;margin:0;vertical-align:top}.a_a_9f38462c .b_a_9f38462c::-moz-focus-inner{border:0}.a_a_9f38462c .b_a_9f38462c{outline:transparent;position:relative}.a_a_9f38462c .b_a_9f38462c:focus:after,.a_a_9f38462c .b_a_9f38462c:hover:after,.a_a_9f38462c.ms-Fabric.is-focusVisible .b_a_9f38462c:focus:after,.ms-Fabric.is-focusVisible .a_a_9f38462c .b_a_9f38462c:focus:after{border:2px solid "[theme:neutralsecondary, default: #605e5c]";border-radius:inherit;bottom:-2px;content:"";left:-2px;pointer-events:none;position:absolute;right:-2px;top:-2px}',!0);var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._containerDivRef=i.createRef(),t._isNewDndExperience=l.e.isWEXWithinWebpartDragAndDropFlight(),t._onReorderEnd=function(e){var n=e.oldIndex,a=e.newIndex;isNaN(n)||isNaN(a)||t.props.onReorder&&t.props.onReorder(n,a)},t._onRenderCell=function(e,n){var a={height:t._cellHeight,width:t._cellWidth,marginBottom:t._cellMargin,cursor:"pointer"};if(Object(r.getRTL)()?a.marginLeft=t._cellMargin:a.marginRight=t._cellMargin,e&&void 0!==n)return i.createElement("div",{role:"gridcell","aria-label":t.props.getItemAriaLabel&&t.props.getItemAriaLabel(e),style:a,onClick:function(){return t._handleClick(e,n)},onKeyDown:t._handleKeyDown(n)},t.props.onRenderItem&&t.props.onRenderItem(e,n,t._cellWidth,t._cellHeight))},t._handleKeyDown=function(e){return function(n){if(t.props.canReorder)switch(n.which){case r.KeyCodes.left:n.ctrlKey&&e>0&&(t.props.onReorder&&t.props.onReorder(e,e-1),n.stopPropagation());break;case r.KeyCodes.right:n.ctrlKey&&e<t.props.items.length-1&&(t.props.onReorder&&t.props.onReorder(e,e+1),n.stopPropagation())}}},t._getItemCountForPage=function(e,n){var a=n?n.width:0,i=10,r=t._getItemMaxWidthInPixels(t.props.itemSize);if(a){t._cellMargin=r.margin;var o=Math.ceil((a+t._cellMargin)/(r.width+t._cellMargin))||1;i=Math.ceil(i/o)*o;var s=a/o-t._cellMargin;t._cellWidth=s,t._cellHeight=Object(d.e)(s,t.props.aspectRatio)}return t.props.canReorder&&(i=t.props.items.length),i},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this._isNewDndExperience||this._createSortableList()},t.prototype.componentDidUpdate=function(e){e.width!==this.props.width&&this._imageList.forceUpdate()},t.prototype.render=function(){var e=this.props.items;return i.createElement(r.FocusZone,Object(a.__assign)({},this.props.focusZoneProps),i.createElement("div",{className:"a_a_9f38462c",role:"grid",ref:this._containerDivRef,"aria-label":this.props.ariaLabel,tabIndex:Object(l.n)()?void 0:0},i.createElement(r.List,{componentRef:this._resolveRef("_imageList"),items:e,getKey:this.props.getReactKey,onRenderCell:this._onRenderCell,getItemCountForPage:this._getItemCountForPage,ignoreScrollingState:!0})))},t.prototype._createSortableList=function(){var e=this;this.props.canReorder&&this._async.setTimeout(function(){if(e._containerDivRef.current){for(var t=e._containerDivRef.current.getElementsByClassName("ms-List-page"),n={group:String(Math.random()),onEnd:e._onReorderEnd,draggable:".ms-List-cell",animation:200},a=new s._QosMonitor("ImageGridLayout.createSortableList"),i=function(e){o.SortableLoader.GetSortable().then(function(a){a.create(t[e],n)}).catch(function(e){throw a.writeUnexpectedFailure(void 0,e),e})},r=0;r<t.length;r++)i(r);a.writeSuccess()}},0)},t.prototype._getItemMaxWidthInPixels=function(e){switch(e){case c.t.Small:return{width:150,margin:20};case c.t.Large:return{width:300,margin:20};default:return{width:228,margin:20}}},t.prototype._handleClick=function(e,t){this.props.onItemClick&&this.props.onItemClick(e,t)},t}(r.BaseComponent)}}]);