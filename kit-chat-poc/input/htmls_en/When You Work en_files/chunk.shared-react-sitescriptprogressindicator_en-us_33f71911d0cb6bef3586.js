(window.webpackJsonp_1e2cdec9_1360_4295_b73c_98d6f51866d5_0_1_0=window.webpackJsonp_1e2cdec9_1360_4295_b73c_98d6f51866d5_0_1_0||[]).push([[24],{Q694:function(e){e.exports=JSON.parse('{"a":"Applying site design. We\\u0027re updating your site based on the design you chose. {0}","n":"Applying site template. We\\u0027re updating your site based on a pre-selected template. {0}","o":"View progress","t":"{0} applied. {1}.","r":"Site design","i":"Site template","e":"Refresh this site to see the changes"}')},k6ue:function(e,t,n){"use strict";n.r(t),n.d(t,"SiteScriptProgressIndicator",function(){return b});var a=n("17wl"),i=n("cDcd"),r=n("5pbq"),o=n("skSa"),s=n("K9kD"),c=n("qQzT"),d=n("6cSr"),l=n("Q694"),u=n("iODI"),f=n("7LxS"),p=n("zW8p"),m=n("sJOh"),_=Object(u.e)(function(){return Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([n.e(0),n.e(47)]).then(n.bind(null,"W3wN"))];case 1:return[2,e.sent().WebTemplatesGalleryDialog]}})})}),h=Object(u.e)(function(){return Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([n.e(1),n.e(3),n.e(14),n.e(43),n.e(44)]).then(n.bind(null,"HVp0"))];case 1:return[2,e.sent().SiteScriptProgressPanel]}})})}),b=function(e){function t(t){var n=e.call(this,t)||this;return n._onNewDataReceived=function(e){e.isSiteDesignPending&&(n._firstRunPanelExperience||(s.Engagement.logData({name:"SiteScripts.BarAppeared"}),n._firstRunPanelExperience=!0));var t=!1;e.canRenderWebTemplatesGalleryFirstRun&&Object(f.r)(n.props.pageContext)&&(t=!0),n.setState({isComplete:n._siteScriptProgressStateManager.isRunComplete(e.displayedRunKey),isVisible:e.isSiteDesignPending,renderWebTemplatesGalleryFirstRun:t,siteDesignId:e.displayedSiteDesignId})},n._onOpenPanelAction=function(e){s.Engagement.logData({name:"SiteScripts.OpenPanelFromGear.Click"}),n.state.isPanelOpen||n.setState({isPanelOpen:!0})},n._onClickOpenPanel=function(e){s.Engagement.logData({name:"SiteScripts.OpenPanelFromBar.Click"}),n.setState({isPanelOpen:!0}),e.stopPropagation(),e.preventDefault()},n._onClickRefreshPage=function(e){s.Engagement.logData({name:"SiteScripts.RefreshFromBar.Click"}),window.location.href=n.props.pageContext?n.props.pageContext.webServerRelativeUrl:window.location.href},n._onPanelDismissed=function(){n.setState({isPanelOpen:!1})},n.state={isPanelOpen:!1,isComplete:!1,isVisible:!1,renderWebTemplatesGalleryFirstRun:!1,useWebTemplatesGallery:s.FeatureOverrides.isFeatureEnabled({ODB:1047})},n._siteScriptProgressStateManager=c.SiteScriptProgressStateManager.getInstance({pageContext:t.pageContext}),n._panelWasEverOpen=!1,n._firstRunPanelExperience=!1,n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this._siteScriptProgressManagerKey="SiteScriptProgressIndicator"+Math.random().toString(),this._siteScriptProgressStateManager.registerCallback(this._siteScriptProgressManagerKey,d.e.newProgressData,this._onNewDataReceived),this._siteScriptProgressStateManager.registerCallback(this._siteScriptProgressManagerKey,d.e.openPanelAction,this._onOpenPanelAction)},t.prototype.componentWillUnmount=function(){this._siteScriptProgressStateManager.unregisterCallback(this._siteScriptProgressManagerKey,d.e.newProgressData),this._siteScriptProgressStateManager.unregisterCallback(this._siteScriptProgressManagerKey,d.e.openPanelAction)},t.prototype.render=function(){var e,t;if(this._panelWasEverOpen=this._panelWasEverOpen||this.state.isPanelOpen,this.state.isVisible||this._siteScriptProgressStateManager.getState().isSiteDesignPending)if(this.state.isComplete){3!==(f=l.t.split(/{[01]}/)).length&&(f=[l.t,"",""]);var n,s=this.state.useWebTemplatesGallery?l.i:l.r,c=i.createElement(o.Link,{onClick:this._onClickOpenPanel,"data-automationid":"SiteScriptProgressOpenPanelLink"},s),d=i.createElement(o.Link,{onClick:this._onClickRefreshPage},l.e);n=l.t.indexOf("{0}")<=l.t.indexOf("{1}")?[c,d]:[d,c];var u=this.state.useWebTemplatesGallery?r.MessageBarType.success:r.MessageBarType.warning;t=i.createElement(r.MessageBar,{messageBarType:u},f[0],n[0],f[1],n[1],f[2])}else{var f,b=this.state.useWebTemplatesGallery?l.n:l.a;2!==(f=b.split("{0}")).length&&(f=[b,""]),t=i.createElement(r.MessageBar,{messageBarType:r.MessageBarType.warning},f[0],i.createElement(o.Link,{onClick:this._onClickOpenPanel,"data-automationid":"SiteScriptProgressOpenPanelLink"},l.o),f[1])}else{if(this.state.renderWebTemplatesGalleryFirstRun)return i.createElement(p.e,Object(a.__assign)({},{pageContext:this.props.pageContext,imageUrls:{webTemplatesFirstRunIllustration:null===(e=this.props.imageUrls)||void 0===e?void 0:e.webTemplatesFirstRunIllustration}}));if(!this._panelWasEverOpen)return null;t=void 0}return i.createElement("div",null,t,this.state.useWebTemplatesGallery?this.state.isPanelOpen?i.createElement(_,{mode:this.state.isComplete?m.e.progressFinished:m.e.progressStarted,pageContext:this.props.pageContext,onDismiss:this._onPanelDismissed,webTemplateId:this.state.siteDesignId}):null:i.createElement(h,{onDismissed:this._onPanelDismissed,siteScriptProgressStateManager:this._siteScriptProgressStateManager,isOpen:this.state.isPanelOpen,firstRunPanelExperience:this._firstRunPanelExperience,responsiveMode:this.props.responsiveMode,imageUrls:this.props.imageUrls,pageContext:this.props.pageContext}))},t}(i.Component)},sJOh:function(e,t,n){"use strict";var a,i;n.d(t,"e",function(){return a}),function(e){e[e.default=0]="default",e[e.firstRun=1]="firstRun",e[e.progressStarted=2]="progressStarted",e[e.progressFinished=3]="progressFinished"}(a||(a={})),function(e){e.outOfBox="OutOfBox",e.thirdParty="ThirdParty"}(i||(i={}))}}]);