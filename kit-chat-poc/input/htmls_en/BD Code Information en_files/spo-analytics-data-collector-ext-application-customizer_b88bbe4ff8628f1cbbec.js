define("bc734fc7-e5d1-4cb3-bc2a-163326d2cbd8_0.0.1",["@microsoft/sp-application-base","@microsoft/decorators"],function(n,a){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="PE6X")}({"4El3":function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return r}),n.d(t,"n",function(){return o}),n.d(t,"t",function(){return s});var a=n("FXxO"),i=null;function r(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==a.u&&globalThis&&(i=globalThis),typeof self!==a.u&&self&&(i=self),typeof window!==a.u&&window&&(i=window),typeof e!==a.u&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=a.n;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==a.d&&n!==a.s&&o("Object prototype may only be an Object:"+e),i[a.l]=e,new i}}).call(this,n("yLpj"))},"9+N1":function(e,t,n){"use strict";(function(e){var a;n.d(t,"e",function(){return S});var i,r=Object,o=r.getPrototypeOf,s=r.getOwnPropertyNames,c=("undefined"!=typeof globalThis&&(i=globalThis),i||"undefined"==typeof self||(i=self),i||"undefined"==typeof window||(i=window),i||void 0===e||(i=e),i||{}),d=c.__dynProto$Gbl||(c.__dynProto$Gbl={o:(a={},a.setInstFuncs=!0,a.useBaseInst=!0,a),n:1e3});function l(e,t){return e&&r.prototype.hasOwnProperty.call(e,t)}function u(e){return e&&(e===r.prototype||e===Array.prototype)}function f(e){return u(e)||e===Function.prototype}function p(e){var t;if(e){if(o)return o(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,l(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function m(e,t){var n=[];if(s)n=s(e);else for(var a in e)"string"==typeof a&&l(e,a)&&n.push(a);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function _(e,t,n){return"constructor"!==t&&"function"==typeof e[t]&&(n||l(e,t))}function h(e){throw new TypeError("DynamicProto: "+e)}function b(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function g(e,t,n,a){var i=null;if(e&&l(n,"_dynClass")){var r=e._dynInstFuncs||{};if((i=(r[n._dynClass]||{})[t])||h("Missing ["+t+"] function"),!i._dynInstChk&&!1!==r._dynInstChk){for(var o=!l(e,t),s=p(e),c=[];o&&s&&!f(s)&&!b(c,s);){var d=s[t];if(d){o=d===a;break}c.push(s),s=p(s)}try{o&&(e[t]=i),i._dynInstChk=1}catch(e){r._dynInstChk=!1}}}return i}function v(e,t,n){var a=t[e];return a===n&&(a=p(t)[e]),"function"!=typeof a&&h("["+e+"] is not a function"),a}function y(e,t){return l(e,"prototype")?e.name||t||"_unknown_":((e||{}).constructor||{}).name||t||"_unknown_"}function S(e,t,n,a){l(e,"prototype")||h("theClass is an invalid class definition.");var i=e.prototype;(function(e,t){if(o){for(var n=[],a=p(t);a&&!f(a)&&!b(n,a);){if(a===e)return!0;n.push(a),a=p(a)}return!1}return!0})(i,t)||h("["+y(e)+"] not in hierarchy of ["+y(t)+"]");var r=null;l(i,"_dynClass")?r=i._dynClass:(r="_dynCls$"+y(e,"_")+"$"+d.n,d.n++,i._dynClass=r);var s=S._dfOpts,c=!!s.useBaseInst;c&&a&&void 0!==a.useBaseInst&&(c=!!a.useBaseInst);var D=function(e){var t={};return m(e,function(n){!t[n]&&_(e,n,!1)&&(t[n]=e[n])}),t}(t);n(t,function(e,t,n,a){function i(e,t,n){var i=t[n];if(i._isDynProxy&&a){var r=e._dynInstFuncs||{};!1!==r._dynInstChk&&(i=(r[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var r={};m(n,function(e){r[e]=i(t,n,e)});for(var s=p(e),c=[];s&&!f(s)&&!b(c,s);)m(s,function(e){!r[e]&&_(s,e,!o)&&(r[e]=i(t,s,e))}),c.push(s),s=p(s);return r}(i,t,D,c));var I=!!o&&!!s.setInstFuncs;I&&a&&(I=!!a.setInstFuncs),function(e,t,n,a,i){if(!u(e)){var r=n._dynInstFuncs=n._dynInstFuncs||{},o=r[t]=r[t]||{};!1!==r._dynInstChk&&(r._dynInstChk=!!i),m(n,function(t){_(n,t,!1)&&n[t]!==a[t]&&(o[t]=n[t],delete n[t],(!l(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){var a=g(this,t,e,n)||v(t,e,n);return a.apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))})}}(i,r,t,D,!1!==I)}S._dfOpts=d.o}).call(this,n("yLpj"))},FXxO:function(e,t,n){"use strict";n.d(t,"s",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"u",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"o",function(){return c}),n.d(t,"t",function(){return d}),n.d(t,"r",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"i",function(){return m});var a="function",i="object",r="undefined",o="prototype",s="hasOwnProperty",c="default",d=Object,l=d[o],u=d.assign,f=d.create,p=d.defineProperty,m=l[s]},GPet:function(e,t){e.exports=n},PE6X:function(e,t,n){"use strict";n.r(t);var a=n("wxtz"),i=n("GPet"),r=n("9+N1"),o=n("ltvU"),s=n("4El3"),c=n("FXxO"),d=c.a,l=c.t.freeze,u=(c.t.seal,c.t.keys),f=String[c.l],p=f.trim,m=f.endsWith,_=(f.startsWith,Date[c.l].toISOString),h=Array.isArray,b=c.r.toString,g=c.i.toString,v=g.call(c.t),y=/-([a-z])/g,S=/([^\w\d_$])/g,D=/^(\d+[\w\d_$])/,I=Object.getPrototypeOf;function x(e){if(e){if(I)return I(e);var t=e.__proto__||e[c.l]||e.constructor;if(t)return t}return null}function C(e){return void 0===e||typeof e===c.u}function O(e){return null===e||C(e)}function w(e){return!O(e)}function E(e,t){return!(!e||!c.i.call(e,t))}function A(e){return!(!e||typeof e!==c.d)}function L(e){return!(!e||typeof e!==c.s)}function k(e){var t=e;return t&&F(t)&&(t=(t=(t=t.replace(y,function(e,t){return t.toUpperCase()})).replace(S,"_")).replace(D,function(e,t){return"_"+t})),t}function M(e,t){if(e)for(var n in e)c.i.call(e,n)&&t.call(e,n,e[n])}function P(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}var T=h||function(e){return!(!e||"[object Array]"!==b.call(e))};function U(e){return!(!e||"[object Error]"!==b.call(e))}function F(e){return"string"==typeof e}function H(e){return"number"==typeof e}function R(e){return"boolean"==typeof e}function N(e){var t=!1;if(e&&"object"==typeof e){var n=I?I(e):x(e);n?(n.constructor&&c.i.call(n,"constructor")&&(n=n.constructor),t=typeof n===c.s&&g.call(n)===v):t=!0}return t}function B(e){if(e)return _?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function j(e,t,n){var a=e.length;try{for(var i=0;i<a&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function V(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var a=e.length,i=n||0;try{for(var r=Math.max(i>=0?i:a-Math.abs(i),0);r<a;r++)if(r in e&&e[r]===t)return r}catch(e){}}return-1}function z(e,t,n){var a;if(e){if(e.map)return e.map(t,n);var i=e.length,r=n||e;a=new Array(i);try{for(var o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e))}catch(e){}}return a}function G(e,t,n){var a;if(e){if(e.reduce)return e.reduce(t,n);var i=e.length,r=0;if(arguments.length>=3)a=arguments[2];else{for(;r<i&&!(r in e);)r++;a=e[r++]}for(;r<i;)r in e&&(a=t(a,e[r],r,e)),r++}return a}function K(e){return e&&(e=p&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var W=!{toString:null}.propertyIsEnumerable("toString"),q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Q(e){var t=typeof e;if(t===c.s||t===c.d&&null!==e||Object(s.n)("objKeys called on non-object"),!W&&u)return u(e);var n=[];for(var a in e)e&&c.i.call(e,a)&&n.push(a);if(W)for(var i=q.length,r=0;r<i;r++)e&&c.i.call(e,q[r])&&n.push(q[r]);return n}function Y(e,t,n,a){if(d)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),a&&(i.set=a),d(e,t,i),!0}catch(e){}return!1}function J(e){return l&&M(e,function(e,t){(T(t)||A(t))&&l(t)}),X(e)}var X=l||function(e){return e};function Z(){var e=Date;return e.now?e.now():(new e).getTime()}function $(e){return U(e)?e.name:""}function ee(e,t,n,a,i){var r=n;return e&&((r=e[t])===n||i&&!i(r)||a&&!a(n)||(r=n,e[t]=r)),r}function te(e,t,n){var a;return e?!(a=e[t])&&O(a)&&(a=C(n)?{}:n,e[t]=a):a=C(n)?{}:n,a}function ne(e){return!e}function ae(e){return!!e}function ie(e){throw new Error(e)}function re(e,t){var n=null,a=null;return L(e)?n=e:a=e,function(){var e=arguments;if(n&&(a=n()),a)return a[t].apply(a,e)}}function oe(e,t,n,a,i){e&&t&&n&&(!1!==i||C(e[t]))&&(e[t]=re(n,a))}function se(e,t,n,a){return e&&t&&A(e)&&T(n)&&j(n,function(n){F(n)&&oe(e,n,t,n,a)}),e}function ce(e){return e&&c.e&&(e=Object(c.t)(Object(c.e)({},e))),e}function de(e,t,n,a,i,r){var o=arguments,s=o[0]||{},d=o.length,l=!1,u=1;for(d>0&&R(s)&&(l=s,s=o[u]||{},u++),A(s)||(s={});u<d;u++){var f=o[u],p=T(f),m=A(f);for(var _ in f){var h=p&&_ in f||m&&c.i.call(f,_);if(h){var b=f[_],g=void 0;if(l&&b&&((g=T(b))||N(b))){var v=s[_];g?T(v)||(v=[]):N(v)||(v={}),b=de(l,v,b)}void 0!==b&&(s[_]=b)}}}return s}var le=null,ue=null,fe=null,pe=null;function me(e,t){var n=!1;if(e){try{if(!(n=t in e)){var a=e[c.l];a&&(n=t in a)}}catch(e){}if(!n)try{n=!C((new e)[t])}catch(e){}}return n}function _e(e){var t=Object(s.e)();return t&&t[e]?t[e]:"window"===e&&he()?window:null}function he(){return Boolean(typeof window===c.d&&window)}function be(){return he()?window:_e("window")}function ge(){return Boolean(typeof document===c.d&&document)}function ve(){return ge()?document:_e("document")}function ye(){return Boolean(typeof navigator===c.d&&navigator)}function Se(){return ye()?navigator:_e("navigator")}function De(){return Boolean(typeof history===c.d&&history)}function Ie(e){return typeof location===c.d&&location?location:_e("location")}function xe(){return _e("performance")}function Ce(){return Boolean(typeof JSON===c.d&&JSON||null!==_e("JSON"))}function Oe(){return Ce()?JSON||_e("JSON"):null}function we(){var e=Se();if(e&&(e.userAgent!==ue||null===le)){var t=((ue=e.userAgent)||"").toLowerCase();le=P(t,"msie")||P(t,"trident/")}return le}function Ee(e){if(void 0===e&&(e=null),!e){var t=Se()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(P(n,"msie")){var a=ve()||{};return Math.max(parseInt(n.split("msie")[1]),a.documentMode||0)}if(P(n,"trident/")){var i=parseInt(n.split("trident/")[1]);if(i)return i+4}return null}function Ae(e){var t=Object[c.l].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ce()&&(n=Oe().stringify(e)),t+n}function Le(){return null===pe&&(pe=ye()&&Boolean(Se().sendBeacon)),pe}function ke(e){var t=!1;try{t=!!_e("fetch");var n=_e("Request");t&&e&&n&&(t=me(n,"keepalive"))}catch(e){}return t}function Me(){return null===fe&&(fe=typeof XDomainRequest!==c.u)&&Pe()&&(fe=fe&&!me(_e("XMLHttpRequest"),"withCredentials")),fe}function Pe(){var e=!1;try{e=!!_e("XMLHttpRequest")}catch(e){}return e}var Te,Ue=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Fe=null;function He(e,t){return function(){var n=arguments,a=Re(t);if(a){var i=a.listener;i&&i[e]&&i[e].apply(i,n)}}}function Re(e){var t,n=Fe;return n||!0===e.disableDbgExt||(n=Fe||((t=_e("Microsoft"))&&(Fe=t.ApplicationInsights),Fe)),n?n.ChromeDbgExt:null}function Ne(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Be(e,t){var n=typeof console!==c.u?console:_e("console");if(n){var a="log";n[e]&&(a=e),L(n[a])&&n[a](t)}}var je=function(){function e(e,t,n,a){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;var i="";Ce()&&(i=Oe().stringify(a));var r=(t?" message:"+Ne(t):"")+(a?" props:"+Ne(i):"");this.message+=r}return e.dataType="MessageData",e}();function Ve(e,t){return(e||{}).logger||new ze(t)}var ze=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,a={};Object(r.e)(e,this,function(e){function i(e,n){var a=t[e];return O(a)?n:a}function r(e,n){var a=Re(t);a&&a.diagLog&&a.diagLog(e,n)}O(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var c=new je(n,i,s,o);if(e.enableDebugExceptions())throw Ae(c);var d=1===t?"errorToConsole":"warnToConsole";if(C(c.message))r("throw"+(1===t?"Critical":"Warning"),c);else{var l=e.consoleLoggingLevel();if(s){var u=+c.messageId;!a[u]&&l>=t&&(e[d](c.message),a[u]=!0)}else l>=t&&e[d](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){Be("warn",e),r("warning",e)},e.errorToConsole=function(e){Be("error",e),r("error",e)},e.resetInternalMessageCount=function(){n=0,a={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(a[s]?o=!1:a[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++,r(1===t?"error":"warn",i)),n===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",d=new je(23,c,!1);e.queue.push(d),1===t?e.errorToConsole(c):e.warnToConsole(c)}}}})};function Ge(e){return e||new ze}function Ke(e,t,n,a,i,r){void 0===r&&(r=!1),(e||new ze).throwInternal(t,n,a,i,r)}function We(e,t){Ge(e).warnToConsole(t)}var qe=function(){function e(t,n,a){var i,r=this,o=!1;r.start=Z(),r.name=t,r.isAsync=a,r.isChildEvt=function(){return!1},L(n)&&(o=Y(r,"payload",function(){return!i&&L(n)&&(i=n(),n=null),i})),r.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?r[t]:(r.ctx||{})[t]:null},r.setCtx=function(t,n){t&&(t===e.ParentContextKey?(r[t]||(r.isChildEvt=function(){return!0}),r[t]=n):t===e.ChildrenContextKey?r[t]=n:(r.ctx=r.ctx||{})[t]=n)},r.complete=function(){var t=0,a=r.getCtx(e.ChildrenContextKey);if(T(a))for(var i=0;i<a.length;i++){var s=a[i];s&&(t+=s.time)}r.time=Z()-r.start,r.exTime=r.time-t,r.complete=function(){},!o&&L(n)&&(r.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Qe=function e(t){this.ctx={},Object(r.e)(e,this,function(e){e.create=function(e,t,n){return new qe(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&L(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}})};function Ye(e,t,n,a,i){if(e){var r=e;if(L(r.getPerfMgr)&&(r=r.getPerfMgr()),r){var o=void 0,s=r.getCtx("CoreUtils.doPerf");try{if(o=r.create(t(),a,i)){if(s&&o.setCtx&&(o.setCtx(qe.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(qe.ChildrenContextKey);c||(c=[],s.setCtx(qe.ChildrenContextKey,c)),c.push(o)}return r.setCtx("CoreUtils.doPerf",o),n(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&r.fire(o),r.setCtx("CoreUtils.doPerf",s)}}}return n()}var Je=!1,Xe=123456789,Ze=987654321;function $e(e){e<0&&(e>>>=0),Xe=123456789+e&4294967295,Ze=987654321-e&4294967295,Je=!0}function et(){try{var e=2147483647&Z();$e((4294967296*Math.random()^e)+e)}catch(e){}}function tt(e){return e>0?Math.floor(nt()/4294967295*(e+1))>>>0:0}function nt(e){var t=0,n=_e("crypto")||_e("msCrypto");return n&&n.getRandomValues&&(t=4294967295&n.getRandomValues(new Uint32Array(1))[0]),0===t&&we()&&(Je||et(),t=4294967295&at()),0===t&&(t=Math.floor(4294967296*Math.random()|0)),e||(t>>>=0),t}function at(e){var t=((Ze=36969*(65535&Ze)+(Ze>>16)&4294967295)<<16)+(65535&(Xe=18e3*(65535&Xe)+(Xe>>16)&4294967295))>>>0&4294967295|0;return e||(t>>>=0),t}function it(e){void 0===e&&(e=22);for(var t=nt()>>>0,n=0,a="";a.length<e;)n++,a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(nt()<<2&4294967295|3&t)>>>0,n=0);return a}var rt=c.a,ot="."+it(6),st=0;function ct(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function dt(e,t){return void 0===t&&(t=!1),k(e+st+++(t?".2.8.4":"")+ot)}function lt(e){var t={id:dt("_aiData-"+(e||"")+".2.8.4"),accept:function(e){return ct(e)},get:function(e,n,a,i){var r=e[t.id];return r?r[k(n)]:(i&&((r=function(e,t){var n=t[e.id];if(!n){n={};try{ct(t)&&(function(e,t,n){if(rt)try{return rt(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[k(n)]=a),a)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}var ut=null,ft=null,pt=null,mt=ve(),_t={},ht={};function bt(e,t){var n=yt._ckMgr||ht._ckMgr;return n||(n=yt._ckMgr=yt(e,t),ht._ckMgr=n),n}function gt(e){return!e||e.isEnabled()}function vt(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var a=t.cookieCfg;n=a._ckMgr?a._ckMgr:yt(t)}return n||(n=bt(t,(e||{}).logger)),n}function yt(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(ee(t,"domain",e.cookieDomain,w,O),ee(t,"path",e.cookiePath||"/",null,O),O(t.enabled)){var n=void 0;C(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),C(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||ht),a=n.path||"/",i=n.domain,r=!1!==n.enabled,o={isEnabled:function(){var e=r&&St(t),n=ht._ckMgr;return e&&n&&o!==n&&(e=gt(n)),e},setEnabled:function(e){r=!1!==e},set:function(e,t,r,s,c){var d=!1;if(gt(o)){var l={},u=K(t||""),f=u.indexOf(";");if(-1!==f&&(u=K(t.substring(0,f)),l=Dt(t.substring(f+1))),ee(l,"domain",s||i,ae,C),!O(r)){var p=we();if(C(l.expires)){var _=Z()+1e3*r;if(_>0){var h=new Date;h.setTime(_),ee(l,"expires",It(h,p?"toGMTString":"toUTCString")||It(h,p?"toGMTString":"toUTCString")||"",ae)}}p||ee(l,"max-age",""+r,null,C)}var b=Ie();b&&"https:"===b.protocol&&(ee(l,"secure",null,null,C),null===ft&&(ft=!function(e){return!(!F(e)||!P(e,"CPU iPhone OS 12")&&!P(e,"iPad; CPU OS 12")&&!(P(e,"Macintosh; Intel Mac OS X 10_14")&&P(e,"Version/")&&P(e,"Safari"))&&(!P(e,"Macintosh; Intel Mac OS X 10_14")||(t=e,n="AppleWebKit/605.1.15 (KHTML, like Gecko)",a=!1,t&&!(a=t===n)&&(a=m?t.endsWith(n):function(e,t){var n=!1,a=t.length,i=e?e.length:0;if(a&&i&&i>=a&&!(n=e===t)){for(var r=i-1,o=a-1;o>=0;o--){if(e[r]!=t[o])return!1;r--}n=!0}return n}(t,n)),!a))&&!P(e,"Chrome/5")&&!P(e,"Chrome/6")&&(!P(e,"UnrealEngine")||P(e,"Chrome"))&&!P(e,"UCBrowser/12")&&!P(e,"UCBrowser/11"));var t,n,a}((Se()||{}).userAgent)),ft&&ee(l,"SameSite","None",null,C)),ee(l,"path",c||a,null,C),(n.setCookie||Ot)(e,xt(u,l)),d=!0}return d},get:function(e){var t="";return gt(o)&&(t=(n.getCookie||Ct)(e)),t},del:function(e,t){var n=!1;return gt(o)&&(n=o.purge(e,t)),n},purge:function(e,a){var i,r=!1;if(St(t)){var o=((i={}).path=a||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);we()||(o["max-age"]="0"),(n.delCookie||Ot)(e,xt("",o)),r=!0}return r}};return o._ckMgr=o,o}function St(e){if(null===ut){ut=!1;try{ut=void 0!==(mt||{}).cookie}catch(t){Ke(e,2,68,"Cannot access document.cookie - "+$(t),{exception:Ae(t)})}}return ut}function Dt(e){var t={};return e&&e.length&&j(K(e).split(";"),function(e){if(e=K(e||"")){var n=e.indexOf("=");-1===n?t[e]=null:t[K(e.substring(0,n))]=K(e.substring(n+1))}}),t}function It(e,t){return L(e[t])?e[t]():null}function xt(e,t){var n=e||"";return M(t,function(e,t){n+="; "+e+(O(t)?"":"="+t)}),n}function Ct(e){var t="";if(mt){var n=mt.cookie||"";pt!==n&&(_t=Dt(n),pt=n),t=K(_t[e]||"")}return t}function Ot(e,t){mt&&(mt.cookie=e+"="+t)}var wt=dt("aiEvtPageHide"),Et=(dt("aiEvtPageShow"),/\.[\.]+/g),At=/[\.]+$/,Lt=1,kt=lt("events"),Mt=/^([^.]*)(?:\.(.+)|)/;function Pt(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Tt(e,t){if(t){var n="";T(t)?(n="",j(t,function(e){(e=Pt(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=Pt(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var a=Mt.exec(e||"")||[];return{type:a[1],ns:(a[2]||"").replace(Et,".").replace(At,"").split(".").sort().join(".")}}function Ut(e,t,n){void 0===n&&(n=!0);var a=kt.get(e,"events",{},n),i=a[t];return i||(i=a[t]=[]),i}function Ft(e,t,n,a){e&&t&&t.type&&(e.removeEventListener?e.removeEventListener(t.type,n,a):e.detachEvent&&e.detachEvent("on"+t.type,n))}function Ht(e,t,n,a){for(var i=t.length;i--;){var r=t[i];r&&(n.ns&&n.ns!==r.evtName.ns||a&&!a(r)||(Ft(e,r.evtName,r.handler,r.capture),t.splice(i,1)))}}function Rt(e,t){return t?Tt("xx",T(t)?[e].concat(t):[e,t]).ns.split("."):e}function Nt(e,t,n,a,i){void 0===i&&(i=!1);var r=!1;if(e)try{var o=Tt(t,a);if((r=function(e,t,n,a){var i=!1;return e&&t&&t.type&&n&&(e.addEventListener?(e.addEventListener(t.type,n,a),i=!0):e.attachEvent&&(e.attachEvent("on"+t.type,n),i=!0)),i}(e,o,n,i))&&kt.accept(e)){var s={guid:Lt++,evtName:o,handler:n,capture:i};Ut(e,o.type).push(s)}}catch(e){}return r}function Bt(e,t,n,a,i){if(void 0===i&&(i=!1),e)try{var r=Tt(t,a),o=!1;!function(e,t,n){if(t.type)Ht(e,Ut(e,t.type),t,n);else{var a=kt.get(e,"events",{});M(a,function(a,i){Ht(e,i,t,n)}),0===Q(a).length&&kt.kill(e,"events")}}(e,r,function(e){return!((!r.ns||n)&&e.handler!==n||(o=!0,0))}),o||Ft(e,r,n,i)}catch(e){}}function jt(e,t,n){var a=!1,i=be();i&&(a=Nt(i,e,t,n),a=Nt(i.body,e,t,n)||a);var r=ve();return r&&(a=Nt(r,e,t,n)||a),a}function Vt(e,t,n,a){var i=!1;return t&&e&&e.length>0&&j(e,function(e){e&&(n&&-1!==V(n,e)||(i=jt(e,t,a)||i))}),i}function zt(e,t,n){e&&T(e)&&j(e,function(e){e&&function(e,t,n){var a=be();a&&(Bt(a,e,t,n),Bt(a.body,e,t,n));var i=ve();i&&Bt(i,e,t,n)}(e,t,n)})}function Gt(e,t,n){var a=Rt(wt,n),i=Vt(["pagehide"],e,t,a);return t&&-1!==V(t,"visibilitychange")||(i=Vt(["visibilitychange"],function(t){var n=ve();e&&n&&"hidden"===n.visibilityState&&e(t)},t,a)||i),!i&&t&&(i=Gt(e,null,n)),i}var Kt,Wt=null;function qt(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",a=0;a<4;a++)n+=t[15&(e=nt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&nt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}c.u;var Qt={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:C,isNullOrUndefined:O,hasOwnProperty:E,isFunction:L,isObject:A,isDate:function(e){return!(!e||"[object Date]"!==b.call(e))},isArray:T,isError:U,isString:F,isNumber:H,isBoolean:R,toISOString:B,arrForEach:j,arrIndexOf:V,arrMap:z,arrReduce:G,strTrim:K,objCreate:s.t,objKeys:Q,objDefineAccessors:Y,addEventHandler:jt,dateNow:Z,isIE:we,disableCookies:function(){var e,t;(e=bt(void 0,void 0),t=Qt._canUseCookies,null===Wt&&(Wt=[],Kt=t,Y(Qt,"_canUseCookies",function(){return Kt},function(e){Kt=e,j(Wt,function(t){t.setEnabled(e)})})),-1===V(Wt,e)&&Wt.push(e),R(t)&&e.setEnabled(t),R(Kt)&&e.setEnabled(Kt),e).setEnabled(!1)},newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Yt,function(e){var t=0|tt(15);return("x"===e?t:3&t|8).toString(16)})},perfNow:function(){var e=xe();return e&&e.now?e.now():Z()},newId:it,randomValue:tt,random32:nt,mwcRandomSeed:function(e){e?$e(e):et()},mwcRandom32:at,generateW3CId:qt},Yt=/[xy]/g;function Jt(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function Xt(e,t,n){return Jt(e,t)?e:n}function Zt(e,t,n,a){return{version:Jt(a,2,"ff")?a:"00",traceId:$t(e)?e:qt(),spanId:en(t)?t:qt().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function $t(e){return Jt(e,32,"00000000000000000000000000000000")}function en(e){return Jt(e,16,"0000000000000000")}function tn(e){if(e){var t=function(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}(e.traceFlags);Jt(t,2)||(t="01");var n=e.version||"00";return"00"!==n&&"ff"!==n&&(n="00"),"".concat(n,"-").concat(Xt(e.traceId,32,"00000000000000000000000000000000"),"-").concat(Xt(e.spanId,16,"0000000000000000"),"-").concat(t)}return""}var nn=lt("plugin");function an(e){return nn.get(e,"state",{},!0)}function rn(e,t){for(var n,a=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&L(i.setNextPlugin)&&L(o.processTelemetry)&&i.setNextPlugin(o),(L(o.isInitialized)?o.isInitialized():(n=an(o)).isInitialized)||a.push(o),i=o,r=r.getNext())}j(a,function(a){var i=e.core();a.initialize(e.getCfg(),i,t,e.getNext()),n=an(a),a.core||n.core||(n.core=i),n.isInitialized=!0,delete n.teardown})}function on(e){return e.sort(function(e,t){var n=0;if(t){var a=L(t.processTelemetry);L(e.processTelemetry)?n=a?e.priority-t.priority:1:a&&(n=-1)}else n=e?1:-1;return n})}var sn=0;function cn(e,t,n,a){var i=null,r=[];null!==a&&(i=a?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return fn([n],t.config||{},t)}(e,n,a):e);var o={_next:function(){var e=i;if(i=e?e.getNext():null,!e){var t=r;t&&t.length>0&&(j(t,function(e){try{e.func.call(e.self,e.args)}catch(e){Ke(n.logger,2,73,"Unexpected Exception during onComplete - "+Ae(e))}}),r=[])}return e},ctx:{core:function(){return n},diagLog:function(){return Ve(n,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(e,n,a){void 0===a&&(a=!1);var i,r=s(e,null);return r&&!O(r[n])?i=r[n]:t&&!O(t[n])&&(i=t[n]),O(i)?a:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];e&&r.push({func:e,self:C(t)?o.ctx:t,args:n})}}};function s(e,n,a){var i;if(void 0===n&&(n={}),void 0===a&&(a=0),t){var r=t.extensionConfig;r&&e&&(i=r[e])}if(i){if(A(n)&&0!==a){var o=de(!0,n,i);t&&2===a&&M(n,function(e){if(O(o[e])){var n=t[e];O(n)||(o[e]=n)}}),i=o}}else i=n;return i}return o}function dn(e,t,n,a){var i=cn(e,t,n,a),r=i.ctx;return r.processNext=function(e){var t=i._next();return t&&t.processTelemetry(e,r),!t},r.createNew=function(e,a){return void 0===e&&(e=null),T(e)&&(e=fn(e,t,n,a)),dn(e||r.getNext(),t,n,a)},r}function ln(e,t,n){var a=t.config||{},i=cn(e,a,t,n),r=i.ctx;return r.processNext=function(e){var t=i._next();return t&&t.unload(r,e),!t},r.createNew=function(e,n){return void 0===e&&(e=null),T(e)&&(e=fn(e,a,t,n)),ln(e||r.getNext(),t,n)},r}function un(e,t,n){var a=t.config||{},i=cn(e,a,t,n).ctx;return i.processNext=function(e){return i.iterate(function(t){L(t.update)&&t.update(i,e)})},i.createNew=function(e,n){return void 0===e&&(e=null),T(e)&&(e=fn(e,a,t,n)),un(e||i.getNext(),t,n)},i}function fn(e,t,n,a){var i=null,r=!a;if(T(e)&&e.length>0){var o=null;j(e,function(e){if(r||a!==e||(r=!0),r&&e&&L(e.processTelemetry)){var s=function(e,t,n){var a,i=null,r=L(e.processTelemetry),o=L(e.setNextPlugin),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(a,d){c(d=d||function(){var a;return e&&L(e._getTelCtx)&&(a=e._getTelCtx()),a||(a=dn(s,t,n)),a}(),function(t){if(!e||!r)return!1;var n=an(e);return!n.teardown&&!n.disabled&&(o&&e.setNextPlugin(i),e.processTelemetry(a,t),!0)},"processTelemetry",function(){return{item:a}},!a.sync)||d.processNext(a)},unload:function(t,n){c(t,function(){var a=!1;if(e){var i=an(e),r=e.core||i.core;!e||r&&r!==t.core()||i.teardown||(i.core=null,i.teardown=!0,i.isInitialized=!1,e.teardown&&!0===e.teardown(t,n)&&(a=!0))}return a},"unload",function(){},n.isAsync)||t.processNext(n)},update:function(t,n){c(t,function(){var a=!1;if(e){var i=an(e),r=e.core||i.core;!e||r&&r!==t.core()||i.teardown||e.update&&!0===e.update(t,n)&&(a=!0)}return a},"update",function(){},!1)||t.processNext(n)},_id:a=e?e.identifier+"-"+e.priority+"-"+sn++:"Unknown-0-"+sn++,_setNext:function(e){i=e}};function c(t,n,r,o,s){var c=!1,d=e?e.identifier:"TelemetryPluginChain",l=t._hasRun;return l||(l=t._hasRun={}),t.setNext(i),e&&Ye(t.core(),function(){return d+":"+r},function(){l[a]=!0;try{var e=i?i._id:"";e&&(l[e]=!1),c=n(t)}catch(e){var o=!i||l[i._id];o&&(c=!0),i&&o||Ke(t.diagLog(),1,73,"Plugin ["+d+"] failed during "+r+" - "+Ae(e)+", run flags: "+Ae(l))}},o,s),c}return X(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}})}return a&&!i?fn([a],t,n):i}function pn(e,t,n,a){t&&T(t)&&t.length>0&&(j(t=t.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&ie("Channel has invalid priority - "+e.identifier)}),e.push({queue:X(t),chain:fn(t,n,a)}))}function mn(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){j(e,function(e){try{e(t,n)}catch(e){Ke(t.diagLog(),2,73,"Unexpected error calling unload handler - "+Ae(e))}}),e=[]}}}var _n=function e(){var t,n,a,i,o,s=this;function c(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||dn(null,{},s.core);t=a&&a.getPlugin?i.createNew(null,a.getPlugin):i.createNew(null,a)}return t}function d(e,t,i){e&&ee(e,"extensionConfig",[],null,O),!i&&t&&(i=t.getProcessTelContext().getNext());var r=a;a&&a.getPlugin&&(r=a.getPlugin()),s.core=t,n=dn(i,e,t,r)}function l(){t=!1,s.core=null,n=null,a=null,o=[],i=mn()}l(),Object(r.e)(e,s,function(e){e.initialize=function(e,n,a,i){d(e,n,i),t=!0},e.teardown=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var s,c=!1,d=t||ln(null,r,a&&a.getPlugin?a.getPlugin():a),u=n||{reason:0,isAsync:!1};return e._doTeardown&&!0===e._doTeardown(d,u,f)?s=!0:f(),s}function f(){c||(c=!0,i.run(d,n),j(o,function(e){e.rm()}),o=[],!0===s&&d.processNext(u),l())}},e.update=function(t,n){var i=e.core;if(i&&(!t||i===t.core())){var r,o=!1,s=t||un(null,i,a&&a.getPlugin?a.getPlugin():a),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?r=!0:l(),r}function l(){o||(o=!0,d(s.getCfg(),s.core(),s.getNext()))}},e._addHook=function(e){e&&(T(e)?o=o.concat(e):o.push(e))},oe(e,"_addUnloadCb",function(){return i},"add")}),s.diagLog=function(e){return c(e).diagLog()},s.isInitialized=function(){return t},s.setInitialized=function(e){t=e},s.setNextPlugin=function(e){a=e},s.processNext=function(e,t){t?t.processNext(e):a&&L(a.processTelemetry)&&a.processTelemetry(e,null)},s._getTelCtx=c},hn=function(e){function t(){var n,a,i=e.call(this)||this;function o(){n=0,a=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,o(),Object(r.e)(t,i,function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return a.push(t),{remove:function(){j(a,function(e,n){if(e.id===t.id)return a.splice(n,1),-1})}}},e.processTelemetry=function(t,n){for(var i=!1,r=a.length,o=0;o<r;++o){var s=a[o];if(s)try{if(!1===s.fn.apply(null,[t])){i=!0;break}}catch(e){Ke(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+$(e),{exception:Ae(e)},!0)}}i||e.processNext(t,n)},e._doTeardown=function(){o()}}),i}return Object(o.t)(t,e),t}(_n),bn={loggingLevelConsole:1};function gn(e,t){return new Qe(t)}function vn(e,t){var n=!1;return j(t,function(t){if(t===e)return n=!0,-1}),n}function yn(e,t,n,a){j(e,function(e){if(e&&e[t])if(n)setTimeout(function(){return a(e)},0);else try{a(e)}catch(e){}})}var Sn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Object(r.e)(e,this,function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=V(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=V(e.listeners,t)},e.eventsSent=function(t){yn(e.listeners,"eventsSent",!0,function(e){e.eventsSent(t)})},e.eventsDiscarded=function(t,n){yn(e.listeners,"eventsDiscarded",!0,function(e){e.eventsDiscarded(t,n)})},e.eventsSendRequest=function(t,n){yn(e.listeners,"eventsSendRequest",n,function(e){e.eventsSendRequest(t,n)})},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||yn(e.listeners,"perfEvent",!1,function(e){t.isAsync?setTimeout(function(){return e.perfEvent(t)},0):e.perfEvent(t)}))}})},Dn=function(e){function t(){var n=e.call(this)||this;return Object(r.e)(t,n,function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,a,i){t.initialize(e,n,a||new ze(e),i||new Sn(e))},e.track=function(a){Ye(e.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===a&&(n(a),ie("Invalid telemetry item")),function(e){O(e.name)&&(n(e),ie("telemetry name required"))}(a),t.track(a)},function(){return{item:a}},!a.sync)}}),n}return Object(o.t)(t,e),t}(function e(){var t,n,a,i,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I=0;Object(r.e)(e,this,function(e){function r(){t=!1,e.config=de(!0,{},bn),e.logger=new ze(e.config),e._extensions=[],b=new hn,n=[],a=null,i=null,c=null,d=null,l=null,f=null,u=[],p=null,m=null,_=null,h=!1,g=null,v=dt("AIBaseCore",!0),y=mn(),D=null}function x(){return dn(E(),e.config,e)}function C(t,n){var a=function(e,t,n){var a=[],i={};return j(n,function(t){(O(t)||O(t.initialize))&&ie("Plugins must provide initialize method");var n=t.priority,r=t.identifier;t&&n&&(O(i[n])?i[n]=r:We(e,"Two extensions have same priority #"+n+" - "+i[n]+", "+r)),(!n||n<500)&&a.push(t)}),{all:n,core:a}}(e.logger,0,u);f=a.core,l=null;var i=a.all;if(_=X(function(e,t,n,a){var i=[];if(e&&j(e,function(e){return pn(i,e,n,a)}),t){var r=[];j(t,function(e){e.priority>500&&r.push(e)}),pn(i,r,n,a)}return i}(m,i,t,e)),p){var r=V(i,p);-1!==r&&i.splice(r,1),-1!==(r=V(f,p))&&f.splice(r,1),p._setQueue(_)}else p=function(e,t){var n;function a(){return dn(null,t.config,t,null)}function i(e,t,n,a){var i=e?e.length+1:1;function r(){0==--i&&(a&&a(),a=null)}i>0&&j(e,function(e){if(e&&e.queue.length>0){var a=e.chain,o=t.createNew(a);o.onComplete(r),n(o)}else i--}),r()}var r=!1;return(n={identifier:"ChannelControllerPlugin",priority:500,initialize:function(t,n,a,i){r=!0,j(e,function(e){e&&e.queue.length>0&&rn(dn(e.chain,t,n),a)})},isInitialized:function(){return r},processTelemetry:function(t,n){i(e,n||a(),function(e){e.processNext(t)},function(){n.processNext(t)})},update:function(t,n){var a=n||{reason:0};return i(e,t,function(e){e.processNext(a)},function(){t.processNext(a)}),!0}}).pause=function(){i(e,a(),function(e){e.iterate(function(e){e.pause&&e.pause()})},null)},n.resume=function(){i(e,a(),function(e){e.iterate(function(e){e.resume&&e.resume()})},null)},n.teardown=function(t,n){var a=n||{reason:0,isAsync:!1};return i(e,t,function(e){e.processNext(a)},function(){t.processNext(a),r=!1}),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&j(e,function(e){if(e&&e.queue.length>0&&(j(e.queue,function(e){if(e.identifier===t)return n=e,-1}),n))return-1}),n},n.flush=function(t,n,r,o){var s=1,c=!1,d=null;function l(){s--,c&&0===s&&(d&&(clearTimeout(d),d=null),n&&n(c),n=null)}return o=o||5e3,i(e,a(),function(e){e.iterate(function(e){if(e.flush){s++;var n=!1;e.flush(t,function(){n=!0,l()},r)||n||(t&&null==d?d=setTimeout(function(){d=null,l()},o):l())}})},function(){c=!0,l()}),!0},n._setQueue=function(t){e=t},n}(_,e);i.push(p),f.push(p),e._extensions=on(i),p.initialize(t,e,i),rn(x(),i),e._extensions=X(on(f||[])).slice(),n&&function(t){var n=un(E(),e);e._updateHook&&!0===e._updateHook(n,t)||n.processNext(t)}(n)}function w(t){var n=null,a=null;return j(e._extensions,function(e){if(e.identifier===t&&e!==p&&e!==b)return a=e,-1}),!a&&p&&(a=p.getChannel(t)),a&&(n={plugin:a,setEnabled:function(e){an(a).disabled=!e},isEnabled:function(){var e=an(a);return!e.teardown&&!e.disabled},remove:function(t,n){void 0===t&&(t=!0);var i=[a];A(i,{reason:1,isAsync:t},function(t){t&&C(e.config,{reason:32,removed:i}),n&&n(t)})}}),n}function E(){if(!l){var t=(f||[]).slice();-1===V(t,b)&&t.push(b),l=fn(on(t),e.config,e)}return l}function A(t,n,a){if(t&&t.length>0){var i=ln(fn(t,e.config,e),e);i.onComplete(function(){var e=!1,n=[];j(u,function(a,i){vn(a,t)?e=!0:n.push(a)}),u=n;var i=[];m&&(j(m,function(n,a){var r=[];j(n,function(n){vn(n,t)?e=!0:r.push(n)}),i.push(r)}),m=i),a&&a(e)}),i.processNext(n)}else a(!1)}function k(){var t=e.logger?e.logger.queue:[];t&&(j(t,function(t){var n={name:g||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:B(new Date),baseType:je.dataType,baseData:{message:t.message}};e.track(n)}),t.length=0)}function M(e,t,n,a){return p?p.flush(e,t,n||6,a):(t&&t(!1),!0)}function P(t){var n=e.logger;n?Ke(n,2,73,t):ie(t)}r(),e.isInitialized=function(){return t},e.initialize=function(n,i,r,s){h&&ie("SDK is still unloading..."),e.isInitialized()&&ie("Core should not be initialized more than once"),n&&!O(n.instrumentationKey)||ie("Please provide instrumentation key"),a=s,e._notificationManager=s,e.config=n||{},function(e){!0===e.disableDbgExt&&S&&(a.removeNotificationListener(S),S=null),a&&!S&&!0!==e.disableDbgExt&&(S=function(e){if(!Te){Te={};for(var t=0;t<Ue.length;t++)Te[Ue[t]]=He(Ue[t],e)}return Te}(e),a.addNotificationListener(S))}(n),function(t){!t.enablePerfMgr&&c&&(c=null),t.enablePerfMgr&&ee(e.config,"createPerfMgr",gn)}(n),n.extensions=O(n.extensions)?[]:n.extensions,function(e){te(e,"extensionConfig").NotificationManager=a}(n),r&&(e.logger=r),(u=[]).push.apply(u,Object(o.n)(Object(o.n)([],i,!1),n.extensions,!1)),m=(n||{}).channels,C(n,null),_&&0!==_.length||ie("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return _&&j(_,function(t){e.push(t.queue)}),X(e)},e.track=function(t){ee(t,"iKey",e.config.instrumentationKey,null,ne),ee(t,"time",B(new Date),null,ne),ee(t,"ver","4.0",null,O),!h&&e.isInitialized()?x().processNext(t):n.push(t)},e.getProcessTelContext=x,e.getNotifyMgr=function(){var t;return a||(a=Object(s.t)(((t={}).addNotificationListener=function(e){},t.removeNotificationListener=function(e){},t.eventsSent=function(e){},t.eventsDiscarded=function(e,t){},t.eventsSendRequest=function(e,t){},t)),e._notificationManager=a),a},e.addNotificationListener=function(e){a&&a.addNotificationListener(e)},e.removeNotificationListener=function(e){a&&a.removeNotificationListener(e)},e.getCookieMgr=function(){return d||(d=yt(e.config,e.logger)),d},e.setCookieMgr=function(e){d=e},e.getPerfMgr=function(){return i||c||e.config&&e.config.enablePerfMgr&&L(e.config.createPerfMgr)&&(c=e.config.createPerfMgr(e,e.getNotifyMgr())),i||c||null},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],j(e,function(e){x().processNext(e)})}},e.pollInternalLogs=function(t){g=t||null;var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),I&&clearInterval(I),I=setInterval(function(){k()},n)},e.stopPollingInternalLogs=function(){I&&(clearInterval(I),I=0,k())},se(e,function(){return b},["addTelemetryInitializer"]),e.unload=function(n,a,i){void 0===n&&(n=!0),t||ie("SDK is not initialized"),h&&ie("SDK is still unloading...");var o={reason:50,isAsync:n,flushComplete:!1},s=ln(E(),e);function c(t){o.flushComplete=t,h=!0,y.run(s,o),e.stopPollingInternalLogs(),s.processNext(o)}s.onComplete(function(){r(),a&&a(o)},e),M(n,c,6,i)||c(!1)},e.getPlugin=w,e.addPlugin=function(t,n,a,i){if(!t)return i&&i(!1),void P("Plugins must provide initialize method");var r=w(t.identifier);if(r&&!n)return i&&i(!1),void P("Plugin ["+t.identifier+"] is already loaded!");var o={reason:16};function s(n){u.push(t),o.added=[t],C(e.config,o),i&&i(!0)}if(r){var c=[r.plugin];A(c,{reason:2,isAsync:!!a},function(e){e?(o.removed=c,o.reason|=32,s()):i&&i(!1)})}else s()},e.evtNamespace=function(){return v},e.flush=M,e.getTraceCtx=function(e){var t;return D||(t={},D={getName:function(){return t.name},setName:function(e){t.name=e},getTraceId:function(){return t.traceId},setTraceId:function(e){$t(e)&&(t.traceId=e)},getSpanId:function(){return t.spanId},setSpanId:function(e){en(e)&&(t.spanId=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){t.traceFlags=e}}),D},e.setTraceCtx=function(e){D=e||null},oe(e,"addUnloadCb",function(){return y},"add")})});function In(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function xn(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,a=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,r=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,a=a.length<2?"0"+a:a,(r>0?r+".":"")+(i=i.length<2?"0"+i:i)+":"+a+":"+n+"."+t}function Cn(e){var t={};return M(e,function(e,n){t[e]=n,t[n]=e}),J(t)}var On=Cn({LocalStorage:0,SessionStorage:1}),wn=void Cn({AI:0,AI_AND_W3C:1,W3C:2}),En=void 0;function An(){return Mn()?Ln(On.LocalStorage):null}function Ln(e){try{if(O(Object(s.e)()))return null;var t=(new Date).toString(),n=_e(e===On.LocalStorage?"localStorage":"sessionStorage");n.setItem(t,t);var a=n.getItem(t)!==t;if(n.removeItem(t),!a)return n}catch(e){}return null}function kn(){return Pn()?Ln(On.SessionStorage):null}function Mn(e){return(e||void 0===wn)&&(wn=!!Ln(On.LocalStorage)),wn}function Pn(e){return(e||void 0===En)&&(En=!!Ln(On.SessionStorage)),En}function Tn(e,t){var n=kn();if(null!==n)try{return n.getItem(t)}catch(t){En=!1,Ke(e,2,2,"Browser failed read of session storage. "+$(t),{exception:Ae(t)})}return null}function Un(e,t,n){var a=kn();if(null!==a)try{return a.setItem(t,n),!0}catch(t){En=!1,Ke(e,2,4,"Browser failed write to session storage. "+$(t),{exception:Ae(t)})}return!1}function Fn(e,t,n){var a,i=t.length,r=function(e,t){var n;return t&&(t=K(t.toString())).length>150&&(n=t.substring(0,150),Ke(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(r.length!==i){for(var o=0,s=r;void 0!==n[s];)o++,s=r.substring(0,147)+(a=void 0,(a="00"+o).substr(a.length-3));r=s}return r}function Hn(e,t,n){var a;return void 0===n&&(n=1024),t&&(n=n||1024,(t=K(t)).toString().length>n&&(a=t.toString().substring(0,n),Ke(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),a||t}function Rn(e,t){return Vn(e,t,2048,66)}function Nn(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),Ke(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Bn(e,t){if(t){var n={};M(t,function(t,a){if(A(a)&&Ce())try{a=Oe().stringify(a)}catch(t){Ke(e,2,49,"custom property is not valid",{exception:t},!0)}a=Hn(e,a,8192),t=Fn(e,t,n),n[t]=a}),t=n}return t}function jn(e,t){if(t){var n={};M(t,function(t,a){t=Fn(e,t,n),n[t]=a}),t=n}return t}function Vn(e,t,n,a){var i;return t&&(t=K(t)).length>n&&(i=t.substring(0,n),Ke(e,2,a,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}var zn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Gn(e,t,n,a,i,r){n=Hn(a,n)||"not_specified",(O(e)||O(t)||O(n))&&ie("Input doesn't contain all required fields");var o="";e.iKey&&(o=e.iKey,delete e.iKey);var s={name:n,time:B(new Date),iKey:o,ext:r||{},tags:[],data:{},baseType:t,baseData:e};return O(i)||M(i,function(e,t){s.data[e]=t}),s}var Kn=function(){function e(e,t,n,a){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this.name=Hn(e,t)||"not_specified",this.properties=Bn(e,n),this.measurements=jn(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),Wn=function(){function e(e,t,n,a,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},this.ver=2,t=t||"not_specified",this.message=Nn(e,t),this.properties=Bn(e,a),this.measurements=jn(e,i),n&&(this.severityLevel=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),qn=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Qn=function(){function e(e,t,n,a,i,r,o,s,c){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var d=new qn;d.count=a>0?a:void 0,d.max=isNaN(r)||null===r?void 0:r,d.min=isNaN(i)||null===i?void 0:i,d.name=Hn(e,t)||"not_specified",d.value=n,d.stdDev=isNaN(o)||null===o?void 0:o,this.metrics=[d],this.properties=Bn(e,s),this.measurements=jn(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),Yn=function(){function e(e,t,n,a,i,r,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},this.ver=2,this.id=function(e,t){return t?Vn(e,t,128,69).toString():t}(e,o),this.url=Rn(e,n),this.name=Hn(e,t)||"not_specified",isNaN(a)||(this.duration=xn(a)),this.properties=Bn(e,i),this.measurements=jn(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Jn=function(){function e(e,t,n,a,i,r,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},this.ver=2,this.url=Rn(e,n),this.name=Hn(e,t)||"not_specified",this.properties=Bn(e,i),this.measurements=jn(e,r),o&&(this.domProcessing=o.domProcessing,this.duration=o.duration,this.networkConnect=o.networkConnect,this.perfTotal=o.perfTotal,this.receivedResponse=o.receivedResponse,this.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();function Xn(e,t){var n=e;return n&&!F(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=L(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Zn(e,t){var n=e;return e&&(n&&!F(n)&&(n=e.message||e.description||n),n&&!F(n)&&(n=Xn(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function $n(e){return e&&e.src&&F(e.src)&&e.obj&&T(e.obj)}function ea(e){var t=e||"";F(t)||(t=F(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function ta(e){var t=null;if(e)try{if(e.stack)t=ea(e.stack);else if(e.error&&e.error.stack)t=ea(e.error.stack);else if(e.exception&&e.exception.stack)t=ea(e.exception.stack);else if($n(e))t=e;else if($n(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),a=0;a<n.length;a++){var i=n[a];n[a+1]&&(i+="@"+n[a+1],a++),t.push(i)}return{src:e,obj:t}}(e.message);else if(F(e))t=ea(e);else{var n=e.message||e.description||"";F(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=ea(n))}}catch(e){t=ea(e)}return t||{src:"",obj:null}}function na(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function aa(e){if(e)try{if(!F(e)){var t=na(e),n=Xn(e,!1);return n&&"{}"!==n||(e.error&&(t=na(e=e.error)),n=Xn(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var ia,ra=function(){function e(e,t,n,a,i,r){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},this.ver=2,function(e){try{if(A(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(this.exceptions=t.exceptions||[],this.properties=t.properties,this.measurements=t.measurements,t.severityLevel&&(this.severityLevel=t.severityLevel),t.id&&(this.id=t.id),t.problemGroup&&(this.problemGroup=t.problemGroup),O(t.isManual)||(this.isManual=t.isManual)):(n||(n={}),this.exceptions=[new oa(e,t,n)],this.properties=Bn(e,n),this.measurements=jn(e,a),i&&(this.severityLevel=i),r&&(this.id=r))}return e.CreateAutoException=function(e,t,n,a,i,r,o,s){var c=na(i||r||e);return{message:Zn(e,c),url:t,lineNumber:n,columnNumber:a,error:aa(i||r||e),evt:aa(r||e),typeName:c,stackDetails:ta(o||i||r),errorSrc:s}},e.CreateFromInterface=function(t,n,a,i){var r=n.exceptions&&z(n.exceptions,function(e){return oa.CreateFromInterface(t,e)});return new e(t,Object(o.e)(Object(o.e)({},n),{exceptions:r}),a,i)},e.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,a=e.measurements,i=e.severityLevel,r=e.problemGroup,o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&z(t,function(e){return e.toInterface()})||void 0,severityLevel:i,properties:n,measurements:a,problemGroup:r,id:o,isManual:s}},e.CreateSimpleException=function(e,t,n,a,i,r){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=aa,e}(),oa=function(){function e(e,t,n){if(this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(A(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))this.typeName=t.typeName,this.message=t.message,this.stack=t.stack,this.parsedStack=t.parsedStack||[],this.hasFullStack=t.hasFullStack;else{var a=t,i=a&&a.evt;U(a)||(a=a.error||i||a),this.typeName=Hn(e,na(a))||"not_specified",this.message=Nn(e,Zn(t||a,this.typeName))||"not_specified";var r=t.stackDetails||ta(t);this.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var a=0,i=0;if(j(n,function(e){var n=e.toString();if(sa.regex.test(n)){var r=new sa(n,a++);i+=r.sizeInBytes,t.push(r)}}),i>32768)for(var r=0,o=t.length-1,s=0,c=r,d=o;r<o;){if((s+=t[r].sizeInBytes+t[o].sizeInBytes)>32768){var l=d-c+1;t.splice(c,l);break}c=r,d=o,r++,o--}}return t}(r),this.stack=function(e,t){var n;if(t){var a=""+t;a.length>32768&&(n=a.substring(0,32768),Ke(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(e,function(e){var t="";return e&&(e.obj?j(e.obj,function(e){t+=e+"\n"}):t=e.src||""),t}(r)),this.hasFullStack=T(this.parsedStack)&&this.parsedStack.length>0,n&&(n.typeName=n.typeName||this.typeName)}}return e.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&z(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},e.CreateFromInterface=function(t,n){var a=n.parsedStack instanceof Array&&z(n.parsedStack,function(e){return sa.CreateFromInterface(e)})||n.parsedStack;return new e(t,Object(o.e)(Object(o.e)({},n),{parsedStack:a}))},e}(),sa=function(){function e(t,n){if(this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},this.sizeInBytes=0,"string"==typeof t){var a=t;this.level=n,this.method="<no_method>",this.assembly=K(a),this.fileName="",this.line=0;var i=a.match(e.regex);i&&i.length>=5&&(this.method=K(i[2])||this.method,this.fileName=K(i[4]),this.line=parseInt(i[5])||0)}else this.level=t.level,this.method=t.method,this.assembly=t.assembly,this.fileName=t.fileName,this.line=t.line,this.sizeInBytes=0;this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),ca=(ia={},M({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},function(e,t){ia[e]=t[1],ia[t[0]]=t[1]}),J(ia));function da(e){var t=null;if(L(Event))t=new Event(e);else{var n=ve();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var la=ve()||{},ua=0,fa=[null,null,null,null,null];function pa(e){var t=ua,n=fa,a=n[t];return la.createElement?n[t]||(a=n[t]=la.createElement("a")):a={host:ma(e,!0)},a.href=e,++t>=n.length&&(t=0),ua=t,a}function ma(e,t){var n=_a(e,t)||"";if(n){var a=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=a&&a.length>3&&F(a[2])&&a[2].length>0)return a[2]+(a[3]||"")}return n}function _a(e,t){var n=null;if(e){var a=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=a&&a.length>2&&F(a[2])&&a[2].length>0&&(n=a[2]||"",t&&a.length>2)){var i=(a[1]||"").toLowerCase(),r=a[3]||"";("http"===i&&":80"===r||"https"===i&&":443"===r)&&(r=""),n+=r}}return n}var ha=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function ba(e){return-1!==V(ha,e.toLowerCase())}var ga={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var a=0;a<e.correlationHeaderExcludePatterns.length;a++)if(e.correlationHeaderExcludePatterns[a].test(t))return!1;var i=pa(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(_a(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var r,o=e&&e.correlationHeaderDomains;if(o&&(j(o,function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));r=r||t.test(i)}),!r))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(a=0;a<s.length;a++)if(new RegExp(s[a].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=ga.getCorrelationContextValue(e,ca[1]);if(t&&t!==ga.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),a=0;a<n.length;++a){var i=n[a].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function va(){var e=xe();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return Z()}function ya(e,t){var n=null;return 0===e||0===t||O(e)||O(t)||(n=t-e),n}function Sa(e,t){var n=e||{};return{getName:function(){return n.name},setName:function(e){t&&t.setName(e),n.name=e},getTraceId:function(){return n.traceID},setTraceId:function(e){t&&t.setTraceId(e),$t(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){t&&t.setSpanId(e),en(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),n.traceFlags=e}}}var Da=function(){function e(e,t,n,a,i,r,o,s,c,d,l,u){void 0===c&&(c="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},this.ver=2,this.id=t,this.duration=xn(i),this.success=r,this.resultCode=o+"",this.type=Hn(e,c);var f=function(e,t,n,a){var i,r=a,o=a;if(t&&t.length>0){var s=pa(t);if(i=s.host,!r)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,r=Hn(e,n?n+" "+c:c)}else r=Hn(e,t)}else i=a,r=a;return{target:i,name:r,data:o}}(e,n,s,a);this.data=Rn(e,a)||f.data,this.target=Hn(e,f.target),d&&(this.target="".concat(this.target," | ").concat(d)),this.name=Hn(e,f.name),this.properties=Bn(e,l),this.measurements=jn(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Ia=["req","rsp","hkErr","fnErr"];function xa(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Ca(e,t,n,a,i){i>=0&&i<=2&&xa(e,function(e,r){var o=e.cbks,s=o[Ia[i]];if(s){t.ctx=function(){return a[r]=a[r]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var d=o[Ia[2]];d&&(t.err=e,d.apply(t.inst,n))}catch(e){}finally{t.err=c}}}})}function Oa(e,t,n){var a=null;return e&&(E(e,t)?a=e:n&&(a=Oa(x(e),t,!1))),a}function wa(e,t,n,a){var i=n&&n._aiHooks;if(!i){var r=function(e){return function(){var t=this,n=arguments,a=e.h,i={name:e.n,inst:t,ctx:null,set:c},r=[],o=s([i],n);function s(e,t){return xa(t,function(t){e.push(t)}),e}function c(e,t){(n=s([],n))[e]=t,o=s([i],n)}i.evt=_e("event"),Ca(a,i,o,r,0);var d=e.f;if(d)try{i.rslt=d.apply(t,n)}catch(e){throw i.err=e,Ca(a,i,o,r,3),e}return Ca(a,i,o,r,1),i.rslt}}(i={i:0,n:t,f:n,h:[]});r._aiHooks=i,e[t]=r}var o={id:i.i,cbks:a,rm:function(){var e=this.id;xa(i.h,function(t,n){if(t.id===e)return i.h.splice(n,1),1})}};return i.i++,i.h.push(o),o}function Ea(e,t,n,a){if(void 0===a&&(a=!0),e&&t&&n){var i=Oa(e,t,a);if(i){var r=i[t];if(typeof r===c.s)return wa(i,t,r,n)}}return null}function Aa(e,t,n,a){if(e&&t&&n){var i=Oa(e,t,a)||e;if(i)return wa(i,t,i[t],n)}return null}var La=function e(t,n,a,i){Object(r.e)(e,this,function(e){var r,o=null,s=[],c=!1;function d(e){a&&a.flush(e)}a&&(r=a.logger),e.trackPageView=function(e,a){var l=e.name;if(O(l)||"string"!=typeof l){var u=ve();l=e.name=u&&u.title||""}var f=e.uri;if(O(f)||"string"!=typeof f){var p=Ie();f=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,a),d(!0),void Ke(r,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var m,_,h,b=!1,g=i.getPerformanceTiming().navigationStart;g>0&&(m=ya(g,+new Date),i.shouldCollectDuration(m)||(m=void 0)),O(a)||O(a.duration)||(_=a.duration),!n&&isNaN(_)||(isNaN(_)&&(a||(a={}),a.duration=m),t.sendPageViewInternal(e,a),d(!0),b=!0),a||(a={}),h=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var o={name:l,uri:f};i.populatePageViewPerformanceEvent(o),o.isValid||b?(b||(a.duration=o.durationMs,t.sendPageViewInternal(e,a)),c||(t.sendPageViewPerformanceInternal(o,a),c=!0)):(a.duration=m,t.sendPageViewInternal(e,a))}else g>0&&ya(g,+new Date)>6e4&&(n=!0,b||(a.duration=6e4,t.sendPageViewInternal(e,a)))}catch(e){Ke(r,1,38,"trackPageView failed on page load calculation: "+$(e),{exception:Ae(e)})}return n},s.push(h),o||(o=setInterval(function(){var e=s.slice(0),t=!1;s=[],j(e,function(e){e()?t=!0:s.push(e)}),0===s.length&&(clearInterval(o),o=null),t&&d(!0)},100))},e.teardown=function(e,t){if(o){clearInterval(o),o=null;var n=s.slice(0);s=[],j(n,function(e){e()})}}})},ka=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){We(this._logger,"Auto track page visit time failed, metric will not be collected: "+Ae(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return We(this._logger,"Call to restart failed: "+Ae(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Pn()){null!=Tn(this._logger,this.prevPageVisitDataKeyName)&&ie("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Ma(e,t),a=Oe().stringify(n);Un(this._logger,this.prevPageVisitDataKeyName,a)}}catch(e){We(this._logger,"Call to start failed: "+Ae(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Pn()){var e=Z(),t=Tn(this._logger,this.prevPageVisitDataKeyName);if(t&&Ce()){var n=Oe().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,function(e,t){var n=kn();if(null!==n)try{n.removeItem(t)}catch(t){En=!1,Ke(e,2,6,"Browser failed removal of session storage item. "+$(t),{exception:Ae(t)})}}(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return We(this._logger,"Stop page visit timer failed: "+Ae(e)),null}},e}(),Ma=function(e,t){this.pageVisitStartTime=Z(),this.pageName=e,this.pageUrl=t},Pa=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),a=0,i=0,r=0,o=0,s=0;if(t||n){t?(a=t.duration,i=0===t.startTime?t.connectEnd:ya(t.startTime,t.connectEnd),r=ya(t.requestStart,t.responseStart),o=ya(t.responseStart,t.responseEnd),s=ya(t.responseEnd,t.loadEventEnd)):(a=ya(n.navigationStart,n.loadEventEnd),i=ya(n.navigationStart,n.connectEnd),r=ya(n.requestStart,n.responseStart),o=ya(n.responseStart,n.responseEnd),s=ya(n.responseEnd,n.loadEventEnd));var c=this._logger;0===a?Ke(c,2,10,"error calculating page view performance.",{total:a,network:i,request:r,response:o,dom:s}):this.shouldCollectDuration(a,i,r,o,s)?a<Math.floor(i)+Math.floor(r)+Math.floor(o)+Math.floor(s)?Ke(c,2,8,"client performance math error.",{total:a,network:i,request:r,response:o,dom:s}):(e.durationMs=a,e.perfTotal=e.duration=xn(a),e.networkConnect=xn(i),e.sentRequest=xn(r),e.receivedResponse=xn(o),e.domProcessing=xn(s),e.isValid=!0):Ke(c,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:i,request:r,response:o,dom:s})}},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?xe().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?xe().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=xe();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=xe();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=xe(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Se()||{},a=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,r=!1;if(i)for(var o=0;o<a.length;o++)r=r||-1!==i.toLowerCase().indexOf(a[o]);if(r)return!1;for(o=0;o<e.length;o++)if(e[o]<0||e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}(),Ta=function(e,t){var n=this,a={};n.start=function(t){void 0!==a[t]&&Ke(e,2,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),a[t]=+new Date},n.stop=function(t,i,r,o){var s=a[t];if(isNaN(s))Ke(e,2,63,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=ya(s,+new Date);n.action(t,i,c,r,o)}delete a[t],a[t]=void 0}};function Ua(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function Fa(e,t){return(e=e||t)<6e4&&(e=6e4),e}function Ha(e){return e||(e={}),e.sessionRenewalMs=Fa(e.sessionRenewalMs,18e5),e.sessionExpirationMs=Fa(e.sessionExpirationMs,864e5),e.disableExceptionTracking=In(e.disableExceptionTracking),e.autoTrackPageVisitTime=In(e.autoTrackPageVisitTime),e.overridePageViewDuration=In(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=In(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=In(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=In(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=In(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=In(e.enableDebug),e.disableFlushOnBeforeUnload=In(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=In(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}var Ra=function(e){function t(){var n,a,i,s,d,l,u,f,p,m,_,h,b,g,v,y,S,D=e.call(this)||this;return D.identifier="ApplicationInsightsAnalytics",D.priority=180,D.autoRoutePVDelay=500,Object(r.e)(t,D,function(e,t){var r=t._addHook;function I(t,n,a,i,r){e.diagLog().throwInternal(t,n,a,i,r)}function x(){n=null,a=null,i=null,s=null,d=null,l=null,u=!1,f=!1,p=!1,m=!1,_=!1,h=!1,b=!1,g=!1;var e=Ie();v=e&&e.href||"",y=null,S=null}x(),e.getCookieMgr=function(){return vt(e.core)},e.processTelemetry=function(t,n){e.processNext(t,n)},e.trackEvent=function(t,n){try{var a=Gn(t,Kn.dataType,Kn.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){I(2,39,"trackTrace failed, trace will not be collected: "+$(e),{exception:Ae(e)})}},e.startTrackEvent=function(e){try{n.start(e)}catch(e){I(1,29,"startTrackEvent failed, event will not be collected: "+$(e),{exception:Ae(e)})}},e.stopTrackEvent=function(e,t,a){try{n.stop(e,void 0,t)}catch(e){I(1,30,"stopTrackEvent failed, event will not be collected: "+$(e),{exception:Ae(e)})}},e.trackTrace=function(t,n){try{var a=Gn(t,Wn.dataType,Wn.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){I(2,39,"trackTrace failed, trace will not be collected: "+$(e),{exception:Ae(e)})}},e.trackMetric=function(t,n){try{var a=Gn(t,Qn.dataType,Qn.envelopeType,e.diagLog(),n);e.core.track(a)}catch(e){I(1,36,"trackMetric failed, metric will not be collected: "+$(e),{exception:Ae(e)})}},e.trackPageView=function(t,n){try{var a=t||{};i.trackPageView(a,Object(o.e)(Object(o.e)(Object(o.e)({},a.properties),a.measurements),n)),e.config.autoTrackPageVisitTime&&d.trackPreviousPageVisit(a.name,a.uri)}catch(e){I(1,37,"trackPageView failed, page view will not be collected: "+$(e),{exception:Ae(e)})}},e.sendPageViewInternal=function(t,n,a){var i=ve();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var r=Gn(t,Yn.dataType,Yn.envelopeType,e.diagLog(),n,a);e.core.track(r)},e.sendPageViewPerformanceInternal=function(t,n,a){var i=Gn(t,Jn.dataType,Jn.envelopeType,e.diagLog(),n,a);e.core.track(i)},e.trackPageViewPerformance=function(t,n){var a=t||{};try{s.populatePageViewPerformanceEvent(a),e.sendPageViewPerformanceInternal(a,n)}catch(e){I(1,37,"trackPageViewPerformance failed, page view will not be collected: "+$(e),{exception:Ae(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var t=ve();e=t&&t.title||""}a.start(e)}catch(e){I(1,31,"startTrackPage failed, page view may not be collected: "+$(e),{exception:Ae(e)})}},e.stopTrackPage=function(t,n,i,r){try{if("string"!=typeof t){var o=ve();t=o&&o.title||""}if("string"!=typeof n){var s=Ie();n=s&&s.href||""}a.stop(t,n,i,r),e.config.autoTrackPageVisitTime&&d.trackPreviousPageVisit(t,n)}catch(e){I(1,32,"stopTrackPage failed, page view will not be collected: "+$(e),{exception:Ae(e)})}},e.sendExceptionInternal=function(t,n,a){var i=t.exception||t.error||new Error("not_specified"),r=Gn(new ra(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),ra.dataType,ra.envelopeType,e.diagLog(),n,a);e.core.track(r)},e.trackException=function(t,n){t&&!t.exception&&t.error&&(t.exception=t.error);try{e.sendExceptionInternal(t,n)}catch(e){I(1,35,"trackException failed, exception will not be collected: "+$(e),{exception:Ae(e)})}},e._onerror=function(t){var n=t&&t.error,a=t&&t.evt;try{if(!a){var i=be();i&&(a=i.event)}var r=t&&t.url||(ve()||{}).URL,o=t.errorSrc||"window.onerror@"+r+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:o,url:r,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};!function(e,t,n,a,i){return!i&&F(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?(t.errorSrc||(t.errorSrc=o),e.trackException({exception:t,severityLevel:3},s)):function(t,n){var a=Gn(t,ra.dataType,ra.envelopeType,e.diagLog(),n);e.core.track(a)}(ra.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",r,t.lineNumber||0,t.columnNumber||0,n,a,null,o),s)}catch(e){var c=n?n.name+", "+n.message:"null";I(1,11,"_onError threw exception while logging error, error will not be collected: "+$(e),{exception:Ae(e),errorString:c})}},e.addTelemetryInitializer=function(t){if(e.core)return e.core.addTelemetryInitializer(t);l||(l=[]),l.push(t)},e.initialize=function(o,I,x,w){if(!e.isInitialized()){O(I)&&ie("Error initializing"),t.initialize(o,I,x,w);try{S=Rt(dt(e.identifier),I.evtNamespace&&I.evtNamespace()),l&&(j(l,function(e){I.addTelemetryInitializer(e)}),l=null);var E=function(t){var n=dn(null,t,e.core),a=e.identifier,i=Ha(t),r=e.config=n.getExtCfg(a);return void 0!==i&&M(i,function(e,t){r[e]=n.getConfig(a,e,t),void 0===r[e]&&(r=t)}),r}(o);(function(e){C(e.isStorageUseDisabled)||(e.isStorageUseDisabled?(wn=!1,En=!1):(wn=Mn(!0),En=Pn(!0)))})(E),s=new Pa(e.core),i=new La(D,E.overridePageViewDuration,e.core,s),d=new ka(e.diagLog(),function(t,n,a){return function(t,n,a){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:a,max:a,min:a,sampleCount:1},i)}(t,n,a)}),function(t,n){u=t.isBrowserLinkTrackingEnabled||n.isBrowserLinkTrackingEnabled,function(){if(!f&&u){var t=["/browserLinkSignalR/","/__browserLink/"];e.addTelemetryInitializer(function(e){if(u&&e.baseType===Da.dataType){var n=e.baseData;if(n)for(var a=0;a<t.length;a++)if(n.target&&n.target.indexOf(t[a])>=0)return!1}return!0}),f=!0}}()}(E,o),(n=new Ta(e.diagLog(),"trackEvent")).action=function(t,n,a,i){i||(i={}),i.duration=a.toString(),e.trackEvent({name:t,properties:i})},(a=new Ta(e.diagLog(),"trackPageView")).action=function(t,n,a,i,r){O(i)&&(i={}),i.duration=a.toString();var o={name:t,uri:n,properties:i,measurements:r};e.sendPageViewInternal(o,i)},he()&&(function(t){var n=be(),a=Ie();(_=t.disableExceptionTracking)||h||t.autoExceptionInstrumented||(r(Aa(n,"onerror",{ns:S,rsp:function(t,n,a,i,r,o){_||!0===t.rslt||e._onerror(ra.CreateAutoException(n,a,i,r,o,t.evt))}},!1)),h=!0),function(t,n,a){(b=!0===t.enableUnhandledPromiseRejectionTracking)&&!g&&(r(Aa(n,"onunhandledrejection",{ns:S,rsp:function(t,n){b&&!0!==t.rslt&&e._onerror(ra.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!F(t)&&L(t.toString)?t.toString():Ae(t)}return e||""}(n),a?a.href:"",0,0,n,t.evt))}},!1)),g=!0,t.autoUnhandledPromiseInstrumented=g)}(t,n,a)}(E),function(t){var n=be(),a=Ie();if(p=!0===t.enableAutoRouteTracking,n&&p&&De()){var i=De()?history:_e("history");L(i.pushState)&&L(i.replaceState)&&typeof Event!==c.u&&function(t,n,a,i){m||(r(Aa(a,"pushState",{ns:S,rsp:function(){p&&(Ua(n,da(t.namePrefix+"pushState")),Ua(n,da(t.namePrefix+"locationchange")))}},!0)),r(Aa(a,"replaceState",{ns:S,rsp:function(){p&&(Ua(n,da(t.namePrefix+"replaceState")),Ua(n,da(t.namePrefix+"locationchange")))}},!0)),Nt(n,t.namePrefix+"popstate",function(){p&&Ua(n,da(t.namePrefix+"locationchange"))},S),Nt(n,t.namePrefix+"locationchange",function(){if(y?(v=y,y=i&&i.href||""):y=i&&i.href||"",p){var t=function(){var t=null;if(e.core&&e.core.getTraceCtx&&(t=e.core.getTraceCtx(!1)),!t){var n=e.core.getPlugin("AppInsightsPropertiesPlugin");if(n){var a=n.plugin.context;a&&(t=Sa(a.telemetryTrace))}}return t}();if(t){t.setTraceId(qt());var n="_unknown_";i&&i.pathname&&(n=i.pathname+(i.hash||"")),t.setName(Hn(e.diagLog(),n))}setTimeout(function(t){e.trackPageView({refUri:t,properties:{duration:0}})}.bind(this,v),e.autoRoutePVDelay)}},S),m=!0)}(t,n,i,a)}}(E))}catch(t){throw e.setInitialized(!1),t}}},e._doTeardown=function(e,t){i&&i.teardown(e,t),Bt(window,null,null,S),x()},Y(e,"_pageViewManager",function(){return i}),Y(e,"_pageViewPerformanceManager",function(){return s}),Y(e,"_pageVisitTimeManager",function(){return d}),Y(e,"_evtNamespace",function(){return"."+S})}),D}return Object(o.t)(t,e),t.Version="2.8.4",t.getDefaultConfig=Ha,t}(_n),Na=function e(t,n){var a=[],i=!1;this._get=function(){return a},this._set=function(e){return a=e},Object(r.e)(e,this,function(e){e.enqueue=function(r){e.count()>=n.eventsLimitInMem()?i||(Ke(t,2,105,"Maximum in-memory buffer size reached: "+e.count(),!0),i=!0):a.push(r)},e.count=function(){return a.length},e.size=function(){for(var e=a.length,t=0;t<a.length;t++)e+=a[t].length;return n.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){a=[],i=!1},e.getItems=function(){return a.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null}})},Ba=function(e){function t(n,a){var i=e.call(this,n,a)||this;return Object(r.e)(t,i,function(e,t){e.markAsSent=function(e){t.clear()},e.clearSent=function(e){}}),i}return Object(o.t)(t,e),t}(Na),ja=function(e){function t(n,a){var i=e.call(this,n,a)||this,o=!1;return Object(r.e)(t,i,function(e,i){var r=l(t.BUFFER_KEY),s=l(t.SENT_BUFFER_KEY),c=e._set(r.concat(s));function d(e,t){var n=[];return j(t,function(t){L(t)||-1!==V(e,t)||n.push(t)}),n}function l(e){var t=e;try{t=a.namePrefix&&a.namePrefix()?a.namePrefix()+"_"+t:t;var i=Tn(n,t);if(i){var r=Oe().parse(i);if(F(r)&&(r=Oe().parse(r)),r&&T(r))return r}}catch(e){Ke(n,1,42," storage key: "+t+", "+$(e),{exception:Ae(e)})}return[]}function u(e,t){var i=e;try{i=a.namePrefix&&a.namePrefix()?a.namePrefix()+"_"+i:i;var r=JSON.stringify(t);Un(n,i,r)}catch(e){Un(n,i,JSON.stringify([])),Ke(n,2,41," storage key: "+i+", "+$(e)+". Buffer cleared",{exception:Ae(e)})}}c.length>t.MAX_BUFFER_SIZE&&(c.length=t.MAX_BUFFER_SIZE),u(t.SENT_BUFFER_KEY,[]),u(t.BUFFER_KEY,c),e.enqueue=function(a){e.count()>=t.MAX_BUFFER_SIZE?o||(Ke(n,2,67,"Maximum buffer size reached: "+e.count(),!0),o=!0):(i.enqueue(a),u(t.BUFFER_KEY,e._get()))},e.clear=function(){i.clear(),u(t.BUFFER_KEY,e._get()),u(t.SENT_BUFFER_KEY,[]),o=!1},e.markAsSent=function(a){u(t.BUFFER_KEY,e._set(d(a,e._get())));var i=l(t.SENT_BUFFER_KEY);i instanceof Array&&a instanceof Array&&((i=i.concat(a)).length>t.MAX_BUFFER_SIZE&&(Ke(n,1,67,"Sent buffer reached its maximum size: "+i.length,!0),i.length=t.MAX_BUFFER_SIZE),u(t.SENT_BUFFER_KEY,i))},e.clearSent=function(e){var n=l(t.SENT_BUFFER_KEY);n=d(e,n),u(t.SENT_BUFFER_KEY,n)}}),i}return Object(o.t)(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(Na);function Va(e){var t="ai."+e+".";return function(e){return t+e}}var za,Ga=Va("application"),Ka=Va("device"),Wa=Va("location"),qa=Va("operation"),Qa=Va("session"),Ya=Va("user"),Ja=Va("cloud"),Xa=Va("internal"),Za=function(e){function t(){return e.call(this)||this}return Object(o.t)(t,e),t}((za={applicationVersion:Ga("ver"),applicationBuild:Ga("build"),applicationTypeId:Ga("typeId"),applicationId:Ga("applicationId"),applicationLayer:Ga("layer"),deviceId:Ka("id"),deviceIp:Ka("ip"),deviceLanguage:Ka("language"),deviceLocale:Ka("locale"),deviceModel:Ka("model"),deviceFriendlyName:Ka("friendlyName"),deviceNetwork:Ka("network"),deviceNetworkName:Ka("networkName"),deviceOEMName:Ka("oemName"),deviceOS:Ka("os"),deviceOSVersion:Ka("osVersion"),deviceRoleInstance:Ka("roleInstance"),deviceRoleName:Ka("roleName"),deviceScreenResolution:Ka("screenResolution"),deviceType:Ka("type"),deviceMachineName:Ka("machineName"),deviceVMName:Ka("vmName"),deviceBrowser:Ka("browser"),deviceBrowserVersion:Ka("browserVersion"),locationIp:Wa("ip"),locationCountry:Wa("country"),locationProvince:Wa("province"),locationCity:Wa("city"),operationId:qa("id"),operationName:qa("name"),operationParentId:qa("parentId"),operationRootId:qa("rootId"),operationSyntheticSource:qa("syntheticSource"),operationCorrelationVector:qa("correlationVector"),sessionId:Qa("id"),sessionIsFirst:Qa("isFirst"),sessionIsNew:Qa("isNew"),userAccountAcquisitionDate:Ya("accountAcquisitionDate"),userAccountId:Ya("accountId"),userAgent:Ya("userAgent"),userId:Ya("id"),userStoreRegion:Ya("storeRegion"),userAuthUserId:Ya("authUserId"),userAnonymousUserAcquisitionDate:Ya("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ya("authUserAcquisitionDate"),cloudName:Ja("name"),cloudRole:Ja("role"),cloudRoleVer:Ja("roleVer"),cloudRoleInstance:Ja("roleInstance"),cloudEnvironment:Ja("environment"),cloudLocation:Ja("location"),cloudDeploymentUnit:Ja("deploymentUnit"),internalNodeName:Xa("nodeName"),internalSdkVersion:Xa("sdkVersion"),internalAgentVersion:Xa("agentVersion"),internalSnippet:Xa("snippet"),internalSdkSrc:Xa("sdkSrc")},function(){var e=this;za&&M(za,function(t,n){e[t]=n})})),$a=new Za,ei=function(e,t,n){var a=this;this.ver=1,this.sampleRate=100,this.tags={},this.name=Hn(e,n)||"not_specified",this.data=t,this.time=B(new Date),this.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===a.sampleRate?4:1},tags:1,data:1}},ti=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t};function ni(e,t,n){return ee(e,t,n,ae)}function ai(e,t,n){O(e)||M(e,function(e,a){H(a)?n[e]=a:F(a)?t[e]=a:Ce()&&(t[e]=Oe().stringify(a))})}function ii(e,t){O(e)||M(e,function(n,a){e[n]=a||t})}function ri(e,t,n,a){var i=new ei(e,a,t);ni(i,"sampleRate",n.sampleRate),(n.baseData||{}).startTime&&(i.time=B(n.baseData.startTime)),i.iKey=n.iKey;var r=n.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",r),function(e,t,n){var a=n.tags=n.tags||{},i=t.ext=t.ext||{},r=t.tags=t.tags||[],s=i.user;s&&(ni(a,$a.userAuthUserId,s.authId),ni(a,$a.userId,s.id||s.localId));var c=i.app;c&&ni(a,$a.sessionId,c.sesId);var d=i.device;d&&(ni(a,$a.deviceId,d.id||d.localId),ni(a,$a.deviceType,d.deviceClass),ni(a,$a.deviceIp,d.ip),ni(a,$a.deviceModel,d.model),ni(a,$a.deviceType,d.deviceType));var l=t.ext.web;if(l){ni(a,$a.deviceLanguage,l.browserLang),ni(a,$a.deviceBrowserVersion,l.browserVer),ni(a,$a.deviceBrowser,l.browser);var u=n.data=n.data||{},f=u.baseData=u.baseData||{},p=f.properties=f.properties||{};ni(p,"domain",l.domain),ni(p,"isManual",l.isManual?"true":null),ni(p,"screenRes",l.screenRes),ni(p,"userConsent",l.userConsent?"true":null)}var m=i.os;m&&ni(a,$a.deviceOS,m.name);var _=i.trace;_&&(ni(a,$a.operationParentId,_.parentID),ni(a,$a.operationName,Hn(e,_.name)),ni(a,$a.operationId,_.traceID));for(var h={},b=r.length-1;b>=0;b--)M(r[b],function(e,t){h[e]=t}),r.splice(b,1);M(r,function(e,t){h[e]=t});var g=Object(o.e)(Object(o.e)({},a),h);g[$a.internalSdkVersion]||(g[$a.internalSdkVersion]="javascript:".concat(si.Version)),n.tags=ce(g)}(e,n,i),n.tags=n.tags||[],ce(i)}function oi(e,t){O(t.baseData)&&Ke(e,1,46,"telemetryItem.baseData cannot be null.")}var si={Version:"2.8.4"};function ci(e,t,n){oi(e,t);var a={},i={};t.baseType!==Kn.dataType&&(a.baseTypeSource=t.baseType),t.baseType===Kn.dataType?(a=t.baseData.properties||{},i=t.baseData.measurements||{}):t.baseData&&ai(t.baseData,a,i),ai(t.data,a,i),O(n)||ii(a,n);var r=t.baseData.name,o=new Kn(e,r,a,i),s=new ti(Kn.dataType,o);return ri(e,Kn.envelopeType,t,s)}var di=function e(t){Object(r.e)(e,this,function(e){function n(e,r){var o={};if(!e)return Ke(t,1,48,"cannot serialize object because it is null or undefined",{name:r},!0),o;if(e.__aiCircularRefCheck)return Ke(t,2,50,"Circular reference detected while serializing object",{name:r},!0),o;if(!e.aiDataContract){if("measurements"===r)o=i(e,"number",r);else if("properties"===r)o=i(e,"string",r);else if("tags"===r)o=i(e,"string",r);else if(T(e))o=a(e,r);else{Ke(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:r},!0);try{Oe().stringify(e),o=e}catch(e){Ke(t,1,48,e&&L(e.toString)?e.toString():"Error serializing object",null,!0)}}return o}return e.__aiCircularRefCheck=!0,M(e.aiDataContract,function(i,s){var c=L(s)?1&s():1&s,d=L(s)?4&s():4&s,l=2&s,u=void 0!==e[i],f=A(e[i])&&null!==e[i];if(!c||u||l){if(!d){var p;void 0!==(p=f?l?a(e[i],i):n(e[i],i):e[i])&&(o[i]=p)}}else Ke(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:r})}),delete e.__aiCircularRefCheck,o}function a(e,a){var i;if(e)if(T(e)){i=[];for(var r=0;r<e.length;r++){var o=n(e[r],a+"["+r+"]");i.push(o)}}else Ke(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:a},!0);return i}function i(e,n,a){var i;return e&&(i={},M(e,function(e,r){if("string"===n)void 0===r?i[e]="undefined":null===r?i[e]="null":r.toString?i[e]=r.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===r)i[e]="undefined";else if(null===r)i[e]="null";else{var o=parseFloat(r);isNaN(o)?i[e]="NaN":i[e]=o}else i[e]="invalid field: "+a+" is of unknown type.",Ke(t,1,i[e],null,!0)})),i}e.serialize=function(e){var a=n(e,"root");try{return Oe().stringify(a)}catch(e){Ke(t,1,48,e&&L(e.toString)?e.toString():"Error serializing object",null,!0)}}})};function li(e,t){Bt(e,null,null,t)}var ui,fi=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var t=5381,n=0;n<e.length;++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),pi=function(){var e=new fi,t=new Za;this.getSamplingScore=function(n){return n.tags&&n.tags[t.userId]?e.getHashCodeScore(n.tags[t.userId]):n.ext&&n.ext.user&&n.ext.user.id?e.getHashCodeScore(n.ext.user.id):n.tags&&n.tags[t.operationId]?e.getHashCodeScore(n.tags[t.operationId]):n.ext&&n.ext.telemetryTrace&&n.ext.telemetryTrace.traceID?e.getHashCodeScore(n.ext.telemetryTrace.traceID):100*Math.random()}},mi=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var n=t||Ve(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new pi}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Qn.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}();function _i(e){try{return e.responseText}catch(e){}return null}var hi=((ui={})[Kn.dataType]=ci,ui[Wn.dataType]=function(e,t,n){oi(e,t);var a=t.baseData.message,i=t.baseData.severityLevel,r=t.baseData.properties||{},o=t.baseData.measurements||{};ai(t.data,r,o),O(n)||ii(r,n);var s=new Wn(e,a,i,r,o),c=new ti(Wn.dataType,s);return ri(e,Wn.envelopeType,t,c)},ui[Yn.dataType]=function(e,t,n){oi(e,t);var a,i=t.baseData;O(i)||O(i.properties)||O(i.properties.duration)?O(t.data)||O(t.data.duration)||(a=t.data.duration,delete t.data.duration):(a=i.properties.duration,delete i.properties.duration);var r,o=t.baseData;((t.ext||{}).trace||{}).traceID&&(r=t.ext.trace.traceID);var s=o.id||r,c=o.name,d=o.uri,l=o.properties||{},u=o.measurements||{};O(o.refUri)||(l.refUri=o.refUri),O(o.pageType)||(l.pageType=o.pageType),O(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn.toString()),O(o.properties)||M(o.properties,function(e,t){l[e]=t}),ai(t.data,l,u),O(n)||ii(l,n);var f=new Yn(e,c,d,a,l,u,s),p=new ti(Yn.dataType,f);return ri(e,Yn.envelopeType,t,p)},ui[Jn.dataType]=function(e,t,n){oi(e,t);var a=t.baseData,i=a.name,r=a.uri||a.url,o=a.properties||{},s=a.measurements||{};ai(t.data,o,s),O(n)||ii(o,n);var c=new Jn(e,i,r,void 0,o,s,a),d=new ti(Jn.dataType,c);return ri(e,Jn.envelopeType,t,d)},ui[ra.dataType]=function(e,t,n){oi(e,t);var a=t.baseData.measurements||{},i=t.baseData.properties||{};ai(t.data,i,a),O(n)||ii(i,n);var r=t.baseData,o=ra.CreateFromInterface(e,r,i,a),s=new ti(ra.dataType,o);return ri(e,ra.envelopeType,t,s)},ui[Qn.dataType]=function(e,t,n){oi(e,t);var a=t.baseData,i=a.properties||{},r=a.measurements||{};ai(t.data,i,r),O(n)||ii(i,n);var o=new Qn(e,a.name,a.average,a.sampleCount,a.min,a.max,a.stdDev,i,r),s=new ti(Qn.dataType,o);return ri(e,Qn.envelopeType,t,s)},ui[Da.dataType]=function(e,t,n){oi(e,t);var a=t.baseData.measurements||{},i=t.baseData.properties||{};ai(t.data,i,a),O(n)||ii(i,n);var r=t.baseData;if(O(r))return We(e,"Invalid input for dependency data"),null;var o=r.properties&&r.properties["http.method"]?r.properties["http.method"]:"GET",s=new Da(e,r.id,r.target,r.name,r.duration,r.success,r.responseCode,o,r.type,r.correlationContext,i,a),c=new ti(Da.dataType,s);return ri(e,Da.envelopeType,t,c)},ui),bi=function(e){function t(){var n,a,i,o,s,c,d,l=e.call(this)||this;l.priority=1001,l.identifier="AppInsightsChannelPlugin",l._senderConfig={endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}};var u,f,p,m,_=0;return Object(r.e)(t,l,function(e,r){function h(t,a,i,r,o,s){var c=null;if(e._appId||(c=w(s))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!b(i))return void e._onError(a,o);!e._senderConfig.isRetryDisabled()&&k(t)?(E(a),Ke(e.diagLog(),2,40,". Response code "+t+". Will retry to send "+a.length+" items.")):e._onError(a,o)}else p&&!p.isOnline()?e._senderConfig.isRetryDisabled()||(E(a,10),Ke(e.diagLog(),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!p.isOnline(),". Will retry to send ").concat(a.length," items."))):(b(i),206===t?(c||(c=w(s)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(a,c):e._onError(a,o)):(n=0,e._onSuccess(a,r)))}function b(t){return!(c>=10||O(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++c,0))}function g(e,t){f?f(e,!1):y(e)}function v(t){var n=Se(),a=e._buffer,i=e._senderConfig.endpointUrl(),r=e._buffer.batchPayloads(t),o=new Blob([r],{type:"text/plain;charset=UTF-8"}),s=n.sendBeacon(i,o);return s&&(a.markAsSent(t),e._onSuccess(t,t.length)),s}function y(t,n){if(T(t)&&t.length>0&&!v(t)){for(var a=[],i=0;i<t.length;i++){var r=t[i];v([r])||a.push(r)}a.length>0&&(u&&u(a,!0),Ke(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function S(t,n){var a=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{a[zn]=!0}catch(e){}a.open("POST",i,n),a.setRequestHeader("Content-type","application/json"),ba(i)&&a.setRequestHeader(ca.sdkContextHeader,ca.sdkContextHeaderAppIdRequest),j(Q(d),function(e){a.setRequestHeader(e,d[e])}),a.onreadystatechange=function(){return e._xhrReadyStateChange(a,t,t.length)},a.onerror=function(n){return e._onError(t,P(a),n)};var r=e._buffer.batchPayloads(t);a.send(r),e._buffer.markAsSent(t)}function D(t,n){if(T(t)){for(var a=t.length,i=0;i<t.length;i++)a+=t[i].length;_+a<=65e3?x(t,!1):Le()?y(t):(u&&u(t,!0),Ke(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function I(e,t){x(e,!0)}function x(t,n){var a,i=e._senderConfig.endpointUrl(),r=e._buffer.batchPayloads(t),o=new Blob([r],{type:"application/json"}),s=new Headers,c=r.length,l=!1,u=!1;ba(i)&&s.append(ca.sdkContextHeader,ca.sdkContextHeaderAppIdRequest),j(Q(d),function(e){s.append(e,d[e])});var f=((a={method:"POST",headers:s,body:o})[zn]=!0,a);n||(f.keepalive=!0,l=!0,_+=c);var p=new Request(i,f);try{p[zn]=!0}catch(e){}e._buffer.markAsSent(t);try{fetch(p).then(function(a){n||(_-=c,c=0),u||(u=!0,a.ok?a.text().then(function(e){h(a.status,t,a.url,t.length,a.statusText,e)}):e._onError(t,a.statusText))}).catch(function(a){n||(_-=c,c=0),u||(u=!0,e._onError(t,a.message))})}catch(n){u||e._onError(t,Ae(n))}l&&!u&&(u=!0,e._onSuccess(t,t.length))}function w(t){try{if(t&&""!==t){var n=Oe().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){Ke(e.diagLog(),1,43,"Cannot parse the response. "+$(n),{response:t})}return null}function E(t,i){if(void 0===i&&(i=1),t&&0!==t.length){var r=e._buffer;r.clearSent(t),n++;for(var o=0,s=t;o<s.length;o++){var c=s[o];r.enqueue(c)}!function(e){var t;if(n<=1)t=10;else{var i=(Math.pow(2,n)-1)/2,r=Math.floor(Math.random()*i*10)+1;r*=e,t=Math.max(Math.min(r,3600),10)}var o=Z()+1e3*t;a=o}(i),A()}}function A(){if(!o&&!i){var t=a?Math.max(0,a-Z()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);o=setTimeout(function(){o=null,e.triggerSend(!0,null,1)},n)}}function L(){clearTimeout(o),o=null,a=null}function k(e){return 408===e||429===e||500===e||503===e}function P(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+_i(e)||!1:t}function U(t,n){var a=e._buffer,i=be(),r=new XDomainRequest;r.onload=function(){return e._xdrOnLoad(r,t)},r.onerror=function(n){return e._onError(t,F(r),n)};var o=i&&i.location&&i.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return Ke(e.diagLog(),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void a.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");r.open("POST",s);var c=a.batchPayloads(t);r.send(c),a.markAsSent(t)}function F(e,t){return e?"XDomainRequest,Response:"+_i(e)||!1:t}function H(){e._sender=null,e._buffer=null,e._appId=null,e._sample=null,d={},p=null,n=0,a=null,i=!1,o=null,s=null,c=0,_=0,u=null,f=null,m=null}H(),e.pause=function(){L(),i=!0},e.resume=function(){i&&(i=!1,a=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),A())},e.flush=function(t,n,a){if(void 0===t&&(t=!0),!i){L();try{e.triggerSend(t,null,a||1)}catch(t){Ke(e.diagLog(),1,22,"flush failed, telemetry will not be collected: "+$(t),{exception:Ae(t)})}}},e.onunloadFlush=function(){if(!i)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!Le())e.flush();else try{e.triggerSend(!0,g,2)}catch(t){Ke(e.diagLog(),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$(t),{exception:Ae(t)})}},e.addHeader=function(e,t){d[e]=t},e.initialize=function(t,i,o,d){e.isInitialized()&&Ke(e.diagLog(),1,28,"Sender is already initialized"),r.initialize(t,i,o,d);var _=e._getTelCtx(),h=e.identifier;s=new di(i.logger),n=0,a=null,e._sender=null,c=0;var b=e.diagLog();m=Rt(dt("Sender"),i.evtNamespace&&i.evtNamespace()),p=function(e){var t=ve(),n=Se(),a=!1,i=!0,r=Rt(dt("OfflineListener"),e);try{if(s(be())&&(a=!0),t){var o=t.body||t;o.ononline&&s(o)&&(a=!0)}a&&n&&!O(n.onLine)&&(i=n.onLine)}catch(e){a=!1}function s(e){var t=!1;return e&&(t=Nt(e,"online",c,r))&&Nt(e,"offline",d,r),t}function c(){i=!0}function d(){i=!1}return{isOnline:function(){var e=!0;return a?e=i:n&&!O(n.onLine)&&(e=n.onLine),e},isListening:function(){return a},unload:function(){var e=be();if(e&&a){if(li(e,r),t){var n=t.body||t;C(n.ononline)||li(n,r)}a=!1}}}}(m),M({endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},function(t,n){e._senderConfig[t]=function(){return _.getConfig(h,t,n())}}),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Pn()?new ja(b,e._senderConfig):new Ba(b,e._senderConfig),e._sample=new mi(e._senderConfig.samplingPercentage(),b),function(e){return!(O(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(t)||Ke(b,1,100,"Invalid Instrumentation key "+t.instrumentationKey),!ba(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&j(e._senderConfig.customHeaders(),function(e){l.addHeader(e.header,e.value)});var g=e._senderConfig,v=null;!g.disableXhr()&&Me()?v=U:!g.disableXhr()&&Pe()&&(v=S),!v&&ke()&&(v=I),u=v||S,!g.isBeaconApiDisabled()&&Le()&&(v=y),e._sender=v||S,f=!g.onunloadDisableFetch()&&ke(!0)?D:Le()?y:!g.disableXhr()&&Me()?U:!g.disableXhr()&&Pe()?S:u},e.processTelemetry=function(n,a){a=e._getTelCtx(a);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void Ke(a.diagLog(),1,7,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void Ke(a.diagLog(),1,70,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void Ke(a.diagLog(),1,28,"Sender was not initialized");if(u=n,!e._sample.isSampledIn(u))return void Ke(a.diagLog(),2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n.sampleRate=e._sample.sampleRate;var i=e._senderConfig.convertUndefined()||void 0,r=n.iKey||e._senderConfig.instrumentationKey(),o=t.constructEnvelope(n,r,a.diagLog(),i);if(!o)return void Ke(a.diagLog(),1,47,"Unable to create an AppInsights envelope");var c=!1;if(n.tags&&n.tags.ProcessLegacy&&(j(n.tags.ProcessLegacy,function(e){try{e&&!1===e(o)&&(c=!0,We(a.diagLog(),"Telemetry processor check returns false"))}catch(e){Ke(a.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+$(e),{exception:Ae(e)},!0)}}),delete n.tags.ProcessLegacy),c)return;var d=s.serialize(o),l=e._buffer;l.size()+d.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),l.enqueue(d),A()}catch(e){Ke(a.diagLog(),2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$(e),{exception:Ae(e)})}var u;e.processNext(n,a)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&h(e.status,t,e.responseURL,n,P(e),_i(e)||e.response)},e.triggerSend=function(t,n,a){if(void 0===t&&(t=!0),!i)try{var r=e._buffer;if(e._senderConfig.disableTelemetry())r.clear();else{if(r.count()>0){var o=r.getItems();!function(t,n){var a=e.core.getNotifyMgr?e.core.getNotifyMgr():e.core._notificationManager;if(a&&a.eventsSendRequest)try{a.eventsSendRequest(t,n)}catch(t){Ke(e.diagLog(),1,74,"send request notification failed: "+$(t),{exception:Ae(t)})}}(a||0,t),n?n.call(l,o,t):e._sender(o,t)}new Date}L()}catch(t){var s=Ee();(!s||s>9)&&Ke(e.diagLog(),1,40,"Telemetry transmission failed, some telemetry will be lost: "+$(t),{exception:Ae(t)})}},e._doTeardown=function(t,n){e.onunloadFlush(),p.unload(),H()},e._onError=function(t,n,a){Ke(e.diagLog(),2,26,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var a=[],i=[],r=0,o=n.errors.reverse();r<o.length;r++){var s=o[r],c=t.splice(s.index,1)[0];k(s.statusCode)?i.push(c):a.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),a.length>0&&e._onError(a,P(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(E(i),Ke(e.diagLog(),2,40,"Partial success. Delivered: "+t.length+", Failed: "+a.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,a){var i=_i(t);if(!t||i+""!="200"&&""!==i){var r=w(i);r&&r.itemsReceived&&r.itemsReceived>r.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(a,r):e._onError(a,F(t))}else n=0,e._onSuccess(a,0)}}),l}return Object(o.t)(t,e),t.constructEnvelope=function(e,t,n,a){var i;return i=t===e.iKey||O(t)?e:Object(o.e)(Object(o.e)({},e),{iKey:t}),(hi[i.baseType]||ci)(n,i,a)},t}(_n),gi=function(){},vi=function(){function e(t,n){var a,i,o=Ve(n),s=vt(n);Object(r.e)(e,this,function(n){t||(t={}),L(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),L(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var r=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,a=t.split("|");if(a.length>=2)try{var i=+a[1]||0,r=+a[2]||0;isNaN(i)||i<=0?Ke(o,2,27,"AI session acquisition date is 0, session will be reset"):isNaN(r)||r<=0?Ke(o,2,27,"AI session renewal date is 0, session will be reset"):a[0]&&(e.id=a[0],e.acquisitionDate=i,e.renewalDate=r,n=!0)}catch(e){Ke(o,1,9,"Error parsing ai_session value ["+(t||"")+"], session will be reset - "+$(e),{exception:Ae(e)})}return n}function d(e,t){var r=e.acquisitionDate;e.renewalDate=t;var o,c=n.config,d=c.sessionRenewalMs(),l=r+c.sessionExpirationMs()-t,u=[e.id,r,t];o=l<d?l/1e3:d/1e3;var f=c.cookieDomain?c.cookieDomain():null;s.set(a(),u.join("|"),c.sessionExpirationMs()>0?o:null,f),i=t}a=function(){return"ai_session"+r},n.automaticSession=new gi,n.update=function(){var t=Z(),r=!1,l=n.automaticSession;l.id||(r=!function(e,t){var n=!1,i=s.get(a());if(i&&L(i.split))n=c(e,i);else{var r=function(e,t){var n=An();if(null!==n)try{return n.getItem(t)}catch(t){wn=!1,Ke(e,2,1,"Browser failed read of local storage. "+$(t),{exception:Ae(t)})}return null}(o,a());r&&(n=c(e,r))}return n||!!e.id}(l));var u=n.config.sessionExpirationMs();if(!r&&u>0){var f=n.config.sessionRenewalMs(),p=t-l.acquisitionDate,m=t-l.renewalDate;r=(r=(r=p<0||m<0)||p>u)||m>f}r?function(e){var t=n.config||{},a=(t.getNewId?t.getNewId():null)||it;n.automaticSession.id=a(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,d(n.automaticSession,e),Mn()||Ke(o,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&d(l,t)},n.backup=function(){var e,t,i,r=n.automaticSession;e=r.id,t=r.acquisitionDate,i=r.renewalDate,function(e,t,n){var a=An();if(null!==a)try{a.setItem(t,n)}catch(t){wn=!1,Ke(e,2,3,"Browser failed write to local storage. "+$(t),{exception:Ae(t)})}}(o,a(),[e,t,i].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),yi=function(){},Si=function(){this.id="browser",this.deviceClass="Browser"},Di=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.8.4"};function Ii(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var xi=function(){function e(t,n){this.isNewUser=!1,this.isUserCookieSet=!1;var a,i=Ve(n),o=vt(n);Object(r.e)(e,this,function(n){n.config=t;var r=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";a=function(){return e.userCookieName+r};var s=o.get(a());if(s){n.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(n.id=c[0],n.isUserCookieSet=!!n.id)}function d(){var e=t||{};return((e.getNewId?e.getNewId():null)||it)(e.idLength?t.idLength():22)}function l(e){var t=B(new Date);return n.accountAcquisitionDate=t,n.isNewUser=!0,[e,t]}function u(e){n.isUserCookieSet=o.set(a(),e,31536e3)}if(!n.id){n.id=d(),u(l(n.id).join(e.cookieSeparator));var f=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";!function(e,t){var n=An();if(null!==n)try{n.removeItem(t)}catch(t){wn=!1,Ke(e,2,5,"Browser failed removal of local storage item. "+$(t),{exception:Ae(t)})}}(i,f)}n.accountId=t.accountId?t.accountId():void 0;var p=o.get(e.authUserCookieName);if(p){var m=(p=decodeURI(p)).split(e.cookieSeparator);m[0]&&(n.authenticatedId=m[0]),m.length>1&&m[1]&&(n.accountId=m[1])}n.setAuthenticatedUserContext=function(t,a,r){if(void 0===r&&(r=!1),!Ii(t)||a&&!Ii(a))Ke(i,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var s=n.authenticatedId;a&&(n.accountId=a,s=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),r&&o.set(e.authUserCookieName,encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,o.del(e.authUserCookieName)},n.update=function(t){n.id===t&&n.isUserCookieSet||u(l(t||d()).join(e.cookieSeparator))}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Ci=function(){},Oi=function(e,t,n,a){this.traceID=e||qt(),this.parentID=t;var i=Ie();!n&&i&&i.pathname&&(n=i.pathname),this.name=Hn(a,n)};function wi(e,t){e&&e[t]&&0===Q(e[t]).length&&delete e[t]}var Ei=function e(t,n,a){var i=this,o=t.logger;this.appId=function(){return null},this.getSessionId=function(){return null},Object(r.e)(e,this,function(e){if(e.application=new yi,e.internal=new Di(n),he()){e.sessionManager=new vi(n,t),e.device=new Si,e.location=new Ci,e.user=new xi(n,t);var r,s=void 0,c=void 0;a&&(s=a.getTraceId(),c=a.getSpanId(),r=a.getName()),e.telemetryTrace=new Oi(s,c,r,o),e.session=new gi}e.getSessionId=function(){var t=e.session,n=null;if(t&&F(t.id))n=t.id;else{var a=(e.sessionManager||{}).automaticSession;n=a&&F(a.id)?a.id:null}return n},e.applySessionContext=function(t,n){ee(te(t.ext,"app"),"sesId",e.getSessionId(),F)},e.applyOperatingSystemContxt=function(t,n){ee(t.ext,"os",e.os)},e.applyApplicationContext=function(t,n){var a=e.application;if(a){var i=te(t,"tags");ee(i,$a.applicationVersion,a.ver,F),ee(i,$a.applicationBuild,a.build,F)}},e.applyDeviceContext=function(t,n){var a=e.device;if(a){var i=te(te(t,"ext"),"device");ee(i,"localId",a.id,F),ee(i,"ip",a.ip,F),ee(i,"model",a.model,F),ee(i,"deviceClass",a.deviceClass,F)}},e.applyInternalContext=function(t,n){var a=e.internal;if(a){var i=te(t,"tags");ee(i,$a.internalAgentVersion,a.agentVersion,F),ee(i,$a.internalSdkVersion,a.sdkVersion,F),t.baseType!==je.dataType&&t.baseType!==Yn.dataType||(ee(i,$a.internalSnippet,a.snippetVer,F),ee(i,$a.internalSdkSrc,a.sdkSrc,F))}},e.applyLocationContext=function(e,t){var n=i.location;n&&ee(te(e,"tags",[]),$a.locationIp,n.ip,F)},e.applyOperationContext=function(t,n){var a=e.telemetryTrace;if(a){var i=te(te(t,"ext"),"trace",{traceID:void 0,parentID:void 0});ee(i,"traceID",a.traceID,F),ee(i,"name",a.name,F),ee(i,"parentID",a.parentID,F)}},e.applyWebContext=function(e,t){var n=i.web;n&&ee(te(e,"ext"),"web",n)},e.applyUserContext=function(t,n){var a=e.user;if(a){ee(te(t,"tags",[]),$a.userAccountId,a.accountId,F);var i=te(te(t,"ext"),"user");ee(i,"id",a.id,F),ee(i,"authId",a.authenticatedId,F)}},e.cleanUp=function(e,t){var n=e.ext;n&&(wi(n,"device"),wi(n,"user"),wi(n,"web"),wi(n,"os"),wi(n,"app"),wi(n,"trace"))}})},Ai=function(e){function t(){var n,a,i,o=e.call(this)||this;return o.priority=110,o.identifier="AppInsightsPropertiesPlugin",Object(r.e)(t,o,function(e,r){function o(){n=null,a=null,i=null}o(),e.initialize=function(o,s,c,d){r.initialize(o,s,c,d);var l=e._getTelCtx(),u=e.identifier,f=t.getDefaultConfig();n=n||{},M(f,function(e,t){n[e]=function(){return l.getConfig(u,e,t())}}),i=s.getTraceCtx(!1),e.context=new Ei(s,n,i),a=Sa(e.context.telemetryTrace,i),s.setTraceCtx(a),e.context.appId=function(){var e=s.getPlugin("AppInsightsChannelPlugin");return e?e.plugin._appId:null},e._extConfig=n},e.processTelemetry=function(t,n){if(O(t));else{n=e._getTelCtx(n),t.name===Yn.envelopeType&&n.diagLog().resetInternalMessageCount();var a=e.context||{};a.session&&"string"!=typeof e.context.session.id&&a.sessionManager&&a.sessionManager.update();var i=a.user;if(i&&!i.isUserCookieSet&&i.update(a.user.id),function(t,n){te(t,"tags",[]),te(t,"ext",{});var a=e.context;a.applySessionContext(t,n),a.applyApplicationContext(t,n),a.applyDeviceContext(t,n),a.applyOperationContext(t,n),a.applyUserContext(t,n),a.applyOperatingSystemContxt(t,n),a.applyWebContext(t,n),a.applyLocationContext(t,n),a.applyInternalContext(t,n),a.cleanUp(t,n)}(t,n),i&&i.isNewUser){i.isNewUser=!1;var r=new je(72,(Se()||{}).userAgent||"");!function(e,t,n){Ge(e).logInternalMessage(1,n)}(n.diagLog(),0,r)}e.processNext(t,n)}},e._doTeardown=function(e,t){var n=(e||{}).core();n&&n.getTraceCtx&&n.getTraceCtx(!1)===a&&n.setTraceCtx(i),o()}}),o}return Object(o.t)(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(_n);function Li(e,t,n){var a=0,i=e[t],r=e[n];return i&&r&&(a=ya(i,r)),a}function ki(e,t,n,a,i){var r=0,o=Li(n,a,i);return o&&(r=Mi(e,t,xn(o))),r}function Mi(e,t,n){var a=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,a=1),a}var Pi=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},Ti=function e(t,n,a){var i=a;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new Pi,this.clientFailure=0,this.traceID=t,this.spanID=n,Object(r.e)(e,this,function(e){e.getAbsoluteUrl=function(){return e.requestUrl?((n=pa(e.requestUrl))&&(t=n.href),t):null;var t,n},e.getPathName=function(){return e.requestUrl?Rn(i,(t=e.method,n=e.requestUrl,t?t.toUpperCase()+" "+n:n)):null;var t,n},e.CreateTrackItem=function(t,n,a){var i;if(e.ajaxTotalDuration=Math.round(1e3*ya(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var r=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(e.requestSentTime&&(r.startTime=new Date,r.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,a=t.properties||{},i=0,r="redirect",o=r+"Start",s=r="End";if(n){i|=ki(a,r,n,o,s),i|=ki(a,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=ki(a,"connect",n,"connectStart","connectEnd"),i|=ki(a,"request",n,"requestStart","requestEnd"),i|=ki(a,"response",n,"responseStart","responseEnd"),i|=ki(a,"networkConnect",n,"startTime","connectEnd"),i|=ki(a,"sentRequest",n,"requestStart","responseEnd");var c=n.duration;c||(c=Li(n,"startTime","responseEnd")||0),i|=Mi(a,"duration",c),i|=Mi(a,"perfTotal",c);var d=n.serverTiming;if(d){var l={};j(d,function(e,t){var n=k(e.name||""+t),a=l[n]||{};M(e,function(e,t){("name"!==e&&F(t)||H(t))&&(a[e]&&(t=a[e]+";"+t),!t&&F(t)||(a[e]=t))}),l[n]=a}),i|=Mi(a,"serverTiming",l)}i|=Mi(a,"transferSize",n.transferSize),i|=Mi(a,"encodedBodySize",n.encodedBodySize),i|=Mi(a,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Mi(a,"missing",e.perfAttempts));i&&(t.properties=a)}(e,r),n&&Q(e.requestHeaders).length>0&&(r.properties=r.properties||{},r.properties.requestHeaders=e.requestHeaders),a){var o=a();if(o){var s=o.correlationContext;if(s&&(r.correlationContext=s),o.headerMap&&Q(o.headerMap).length>0&&(r.properties=r.properties||{},r.properties.responseHeaders=o.headerMap),e.errorStatusText&&e.status>=400){var c=o.type;r.properties=r.properties||{},""!==c&&"text"!==c||(r.properties.responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===c&&(r.properties.responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return r}})},Ui=0;function Fi(e){var t="";try{O(e)||O(e.ajaxData)||O(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function Hi(e,t,n,a,i){Ke(e.diagLog(),1,t,n,a,i)}function Ri(e,t,n,a,i){Ke(e.diagLog(),2,t,n,a,i)}function Ni(e,t,n){return function(a){Hi(e,t,n,{ajaxDiagnosticsMessage:Fi(a.inst),exception:Ae(a.err)})}}function Bi(e,t){return e&&t?e.indexOf(t):-1}var ji=function(e){function t(){var n,a,i,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I,x,C,w,E,A=e.call(this)||this;return A.identifier=t.identifier,A.priority=120,Object(r.e)(t,A,function(e,r){var A=r._addHook;function k(){var e=Ie();n=!1,a=!1,i=e&&e.host&&e.host.toLowerCase(),d=t.getEmptyConfig(),l=!1,u=!1,f=0,p=null,m=!1,_=!1,h=null,b=!1,g=0,v=!1,y={},S=!1,D=!1,I=null,x=null,C=null,w=0,E=[]}function P(e){var t=!0;return(e||d.ignoreHeaders)&&j(d.ignoreHeaders,function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1}),t}function T(e,t,n){A(function(e,t,n){return e?Ea(e[c.l],t,n,!1):null}(e,t,n))}function U(e,t,n){var a=!1,i=((F(t)?t:(t||{}).url||"")||"").toLowerCase();if(j(I,function(e){var t=e;F(e)&&(t=new RegExp(e)),a||(a=t.test(i))}),a)return a;var r=Bi(i,"?"),o=Bi(i,"#");return(-1===r||-1!==o&&o<r)&&(r=o),-1!==r&&(i=i.substring(0,r)),O(e)?O(t)||(a="object"==typeof t&&!0===t[zn]||!!n&&!0===n[zn]):a=!0===e[zn]||!0===i[zn],!a&&i&&ba(i)&&(a=!0),a?y[i]||(y[i]=1):y[i]&&(a=!0),a}function H(e,t){var n=!0,i=a;return O(e)||(n=!0===t||!O(e.ajaxData)),i&&n}function R(){var t=null;return e.core&&e.core.getTraceCtx&&(t=e.core.getTraceCtx(!1)),!t&&p&&p.telemetryTrace&&(t=Sa(p.telemetryTrace)),t}function N(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function B(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==Bi(n.toLowerCase(),ca[8])){var a=t.getResponseHeader(ca[0]);return ga.getCorrelationContext(a)}}catch(n){Ri(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Fi(t),exception:Ae(n)})}}function V(e,t){if(t.requestUrl&&h&&b){var n=xe();if(n&&L(n.mark)){Ui++;var a=h+e+"#"+Ui;n.mark(a);var i=n.getEntriesByName(a);i&&1===i.length&&(t.perfMark=i[0])}}}function z(e,t,n,a){var i=t.perfMark,r=xe(),o=d.maxAjaxPerfLookupAttempts,s=d.ajaxPerfLookupDelay,c=t.requestUrl,l=0;!function d(){try{if(r&&i){l++;for(var u=null,f=r.getEntries(),p=f.length-1;p>=0;p--){var m=f[p];if(m){if("resource"===m.entryType)m.initiatorType!==e||-1===Bi(m.name,c)&&-1===Bi(c,m.name)||(u=m);else if("mark"===m.entryType&&m.name===i.name){t.perfTiming=u;break}if(m.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||l>=o||!1===t.async?(i&&L(r.clearMarks)&&r.clearMarks(i.name),t.perfAttempts=l,n()):setTimeout(d,s)}catch(e){a(e)}}()}function G(t){var n="";try{O(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){Hi(e,15,"Failed to grab failed fetch diagnostics message",{exception:Ae(t)})}return n}function W(t,n,a,i,r,s,c){function d(t,n,i){var r=i||{};r.fetchDiagnosticsMessage=G(a),n&&(r.exception=Ae(n)),Ri(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",r)}r&&(r.responseFinishedTime=va(),r.status=n,z("fetch",r,function(){var t,c=r.CreateTrackItem("Fetch",l,s);try{x&&(t=x({status:n,request:a,response:i}))}catch(t){Ri(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}c?(void 0!==t&&(c.properties=Object(o.e)(Object(o.e)({},c.properties),t)),e.trackDependencyDataInternal(c)):d(14,null,{requestSentTime:r.requestSentTime,responseFinishedTime:r.responseFinishedTime})},function(e){d(18,e,null)}))}function q(t){if(t&&t.headers)try{var n=t.headers.get(ca[0]);return ga.getCorrelationContext(n)}catch(n){Ri(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:G(t),exception:Ae(n)})}}k(),e.initialize=function(i,f,y,w){var E;e.isInitialized()||(r.initialize(i,f,y,w),C=Rt(dt("ajax"),f&&f.evtNamespace&&f.evtNamespace()),function(n){var a=dn(null,n,e.core);d=t.getEmptyConfig(),M(t.getDefaultConfig(),function(e,n){d[e]=a.getConfig(t.identifier,e,n)});var i=d.distributedTracingMode;if(l=d.enableRequestHeaderTracking,u=d.enableAjaxErrorStatusText,b=d.enableAjaxPerfTracking,g=d.maxAjaxCallsPerView,v=d.enableResponseHeaderTracking,I=d.excludeRequestFromAutoTrackingPatterns,x=d.addRequestContext,_=0===i||1===i,m=1===i||2===i,b){var r=n.instrumentationKey||"unkwn";h=r.length>5?"ai.ajxmn."+r.substring(r.length-5)+".":"ai.ajxmn."+r+"."}S=!!d.disableAjaxTracking,D=!!d.disableFetchTracking}(i),!function(e){var t=!1;if(Pe()){var n=XMLHttpRequest[c.l];t=!(O(n)||O(n.open)||O(n.send)||O(n.abort))}var a=Ee();if(a&&a<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest[c.l].open;XMLHttpRequest[c.l].open=i}catch(n){t=!1,Hi(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Ae(n)})}return t}(e)||S||a||(T(XMLHttpRequest,"open",{ns:C,req:function(t,n,a,i){if(!S){var r=t.inst,s=r.ajaxData;!U(r,a)&&H(r,!0)&&(s&&s.xhrMonitoringState.openDone||function(t,n,a,i){var r=R(),o=r&&r.getTraceId()||qt(),s=qt().substr(0,16),c=new Ti(o,s,e.diagLog());c.traceFlags=r&&r.getTraceFlags(),c.method=n,c.requestUrl=a,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=i,c.errorStatusText=u,t.ajaxData=c}(r,n,a,i),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=Nt(t,"readystatechange",function(){try{t&&4===t.readyState&&H(t)&&function(t){var n=t.ajaxData;function a(n,a){var i=a||{};i.ajaxDiagnosticsMessage=Fi(t),n&&(i.exception=Ae(n)),Ri(e,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=va(),n.status=t.status,z("xmlhttprequest",n,function(){try{var i=n.CreateTrackItem("Ajax",l,function(){var e={statusText:t.statusText,headerMap:null,correlationContext:B(t),type:t.responseType,responseText:N(t),response:t.response};if(v){var n=t.getAllResponseHeaders();if(n){var a=K(n).split(/[\r\n]+/),i={};j(a,function(e){var t=e.split(": "),n=t.shift(),a=t.join(": ");P(n)&&(i[n]=a)}),e.headerMap=i}}return e}),r=void 0;try{x&&(r=x({status:t.status,xhr:t}))}catch(t){Ri(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}i?(void 0!==r&&(i.properties=Object(o.e)(Object(o.e)({},i.properties),r)),e.trackDependencyDataInternal(i)):a(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}},function(e){a(e,null)})}(t)}catch(a){var n=Ae(a);n&&-1!==Bi(n.toLowerCase(),"c00c023f")||Hi(e,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Fi(t),exception:n})}},C)}(r))}},hkErr:Ni(e,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),T(XMLHttpRequest,"send",{ns:C,req:function(t,n){if(!S){var a=t.inst,i=a.ajaxData;H(a)&&!i.xhrMonitoringState.sendDone&&(V("xhr",i),i.requestSentTime=va(),e.includeCorrelationHeaders(i,void 0,void 0,a),i.xhrMonitoringState.sendDone=!0)}},hkErr:Ni(e,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),T(XMLHttpRequest,"abort",{ns:C,req:function(e){if(!S){var t=e.inst,n=t.ajaxData;H(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)}},hkErr:Ni(e,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),T(XMLHttpRequest,"setRequestHeader",{ns:C,req:function(e,t,n){if(!S&&l){var a=e.inst;H(a)&&P(t)&&(a.ajaxData.requestHeaders[t]=n)}},hkErr:Ni(e,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0),function(){var t,i=!(t=Object(s.e)())||O(t.Request)||O(t.Request[c.l])||O(t.fetch)?null:t.fetch;if(i){var r=Object(s.e)(),o=i.polyfill;D||n?o&&A(Ea(r,"fetch",{ns:C,req:function(e,t,n){U(null,t,n)}})):(A(Ea(r,"fetch",{ns:C,req:function(t,i,r){var s;if(!D&&n&&!U(null,i,r)&&(!o||!a)){var c=t.ctx();s=function(t,n){var a=R(),i=a&&a.getTraceId()||qt(),r=qt().substr(0,16),o=new Ti(i,r,e.diagLog());o.traceFlags=a&&a.getTraceFlags(),o.requestSentTime=va(),o.errorStatusText=u,t instanceof Request?o.requestUrl=t?t.url:"":o.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method),o.method=s;var c={};return l&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach(function(e,t){P(t)&&(c[t]=e)}),o.requestHeaders=c,V("fetch",o),o}(i,r);var d=e.includeCorrelationHeaders(s,i,r);d!==r&&t.set(1,d),c.data=s}},rsp:function(e,t){if(!D){var n=e.ctx().data;n&&(e.rslt=e.rslt.then(function(e){return W(0,(e||{}).status,t,e,n,function(){var t={statusText:e.statusText,headerMap:null,correlationContext:q(e)};if(v){var n={};e.headers.forEach(function(e,t){P(t)&&(n[t]=e)}),t.headerMap=n}return t}),e}).catch(function(e){throw W(0,0,t,null,n,null,e.message),e}))}},hkErr:Ni(e,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),n=!0),o&&(r.fetch.polyfill=o)}}(),(E=e.core.getPlugin("AppInsightsPropertiesPlugin"))&&(p=E.plugin.context))},e._doTeardown=function(){k()},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,a,r){var o,s,c=e._currentWindowHost||i;if(function(e,t,n,a,i,r){var o=e.length;if(o>0){for(var s={core:t,xhr:a,input:i,init:r,traceId:n.traceID,spanId:n.spanID,traceFlags:n.traceFlags},c=0;c<o;++c){var d=e[c];if(d&&d.fn)try{d.fn.call(null,s)}catch(e){var l=s.core;Ke(l&&l.logger,1,64,"Dependency listener [#"+c+"] failed: "+$(e),{exception:Ae(e)},!0)}}n.traceID=s.traceId,n.spanID=s.spanId,n.traceFlags=s.traceFlags}}(E,e.core,t,r,n,a),n){if(ga.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),_){var u="|"+t.traceID+"."+t.spanID;a.headers.set(ca[3],u),l&&(t.requestHeaders[ca[3]]=u)}if((o=d.appId||p&&p.appId())&&(a.headers.set(ca[0],ca[2]+o),l&&(t.requestHeaders[ca[0]]=ca[2]+o)),m){O(s=t.traceFlags)&&(s=1);var f=tn(Zt(t.traceID,t.spanID,s));a.headers.set(ca[4],f),l&&(t.requestHeaders[ca[4]]=f)}}return a}if(r)return ga.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)&&(_&&(u="|"+t.traceID+"."+t.spanID,r.setRequestHeader(ca[3],u),l&&(t.requestHeaders[ca[3]]=u)),(o=d.appId||p&&p.appId())&&(r.setRequestHeader(ca[0],ca[2]+o),l&&(t.requestHeaders[ca[0]]=ca[2]+o)),m&&(O(s=t.traceFlags)&&(s=1),f=tn(Zt(t.traceID,t.spanID,s)),r.setRequestHeader(ca[4],f),l&&(t.requestHeaders[ca[4]]=f))),r},e.trackDependencyDataInternal=function(t,n,a){if(-1===g||f<g){2!==d.distributedTracingMode&&1!==d.distributedTracingMode||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),O(t.startTime)&&(t.startTime=new Date);var i=Gn(t,Da.dataType,Da.envelopeType,e.diagLog(),n,a);e.core.track(i)}else f===g&&Hi(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++f},e.addDependencyListener=function(e){var t={id:w++,fn:e};return E.push(t),{remove:function(){j(E,function(e,n){if(e.id===t.id)return E.splice(n,1),-1})}}}}),A}return Object(o.t)(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return M(e,function(t){e[t]=void 0}),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(_n);Cn({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});var Vi,zi=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"];function Gi(e){var t=function(e){return e.indexOf("Trident")>=0||e.indexOf("MSIE")>=0?e.indexOf("Mobile")>=0?"IE Mobile":"Internet Explorer":e.indexOf("Firefox")>=0&&-1===e.indexOf("Seamonkey")?e.indexOf("Android")>=0?"Firefox for Android":"Firefox":e.indexOf("Safari")>=0&&-1===e.indexOf("Chrome")&&-1===e.indexOf("Chromium")&&-1===e.indexOf("Android")?e.indexOf("CriOS")>=0?"Chrome for iOS":e.indexOf("FxiOS")>=0?"Firefox for iOS":"Safari":e.indexOf("Chrome")>=0?e.match(/\bChrome\/[.0-9]* Mobile\b/)?e.match(/\bVersion\/\d+\.\d+\b/)||e.match(/\bwv\b/)?"WebView on Android":"Chrome for Android":"Chrome":e.indexOf("Android")>=0&&-1===e.indexOf("Chrome")&&-1===e.indexOf("Chromium")&&-1===e.indexOf("Trident")&&-1===e.indexOf("Firefox")?"Android Browser":e.indexOf("Edge")>=0?"Edge":e.indexOf("UCBrowser")>=0?"UC Browser for Android":e.indexOf("SamsungBrowser")>=0?"Samsung Internet":e.indexOf("OPR")>=0||e.indexOf("Opera")>=0?e.indexOf("Opera Mini")>=0?"Opera Mini":e.indexOf("Opera Mobi")>=0||e.indexOf("Opera Tablet")>=0||e.indexOf("Mobile")>=0?"Opera Mobile":"Opera":e.indexOf("BB10")>=0||e.indexOf("PlayBook")>=0||e.indexOf("BlackBerry")>=0?"BlackBerry":e.indexOf("MQQBrowser")>=0?"QQ Browser":void 0}(e),n=null;switch(t){case"Chrome":case"Chrome for Android":case"WebView on Android":n=e.match(/Chrome\/((\d+\.)+\d+)/);break;case"Firefox":case"Firefox for Android":n=e.match(/Firefox\/((\d+\.)+\d+)/);break;case"Firefox for iOS":n=e.match(/FxiOS\/((\d+\.)+\d+)/);break;case"Edge":case"Internet Explorer":case"IE Mobile":e.indexOf("Edge")>=0?n=e.match(/Edge\/((\d+\.)+\d+)/):e.indexOf("rv:11")>=0?n=e.match(/rv:((\d+\.)+\d+)/):e.indexOf("MSIE")>=0&&(n=e.match(/MSIE ((\d+\.)+\d+)/));break;case"Safari":n=e.match(/Version\/((\d+\.)+\d+)/);break;case"Android Browser":n=e.match(/Android ((\d+\.)+\d+)/);break;case"UC Browser for Android":n=e.match(/UCBrowser\/((\d+\.)+\d+)/);break;case"Samsung Internet":n=e.match(/SamsungBrowser\/((\d+\.)+\d+)/);break;case"Opera Mini":n=e.match(/Opera Mini\/((\d+\.)+\d+)/);break;case"Opera":n=e.match(/OPR/)?e.match(/OPR\/((\d+\.)+\d+)/):e.match(/Version/)?e.match(/Version\/((\d+\.)+\d+)/):e.match(/Opera\/((\d+\.)+\d+)/);break;case"BlackBerry":n=e.match(/Version\/((\d+\.)+\d+)/);break;case"QQ Browser":n=e.match(/MQQBrowser\/((\d+\.)+\d+)/);break;default:n=e.match(/\/((\d+\.)+\d+)$/)}var a="";return n&&n[1]&&(a=n[1]),{name:t,version:a}}function Ki(e){var t=function(e){return e.indexOf("Windows")>=0?e.indexOf("Windows Phone")>=0?"Windows Phone":"Windows":e.indexOf("OS X")>=0&&-1===e.indexOf("Android")?"OS X":e.indexOf("Linux")>=0?"Linux":e.indexOf("like Mac OS X")>=0?"iOS":(e.indexOf("Android")>=0||e.indexOf("Adr")>=0)&&-1===e.indexOf("Windows Phone")?"Android":e.indexOf("BB10")>=0?"BlackBerry":e.indexOf("RIM Tablet OS")>=0?"BlackBerry Tablet OS":e.indexOf("BlackBerry")>=0?"BlackBerryOS":e.indexOf("CrOS")>=0?"Chrome OS":e.indexOf("KAIOS")>=0?"KaiOS":void 0}(e),n=null,a="";switch(t){case"Windows":case"Windows Phone":if(e.indexOf("Win16")>=0)a="3.1.1";else if(e.indexOf("Windows CE")>=0)a="CE";else if(e.indexOf("Windows 95")>=0)a="95";else if(e.indexOf("Windows 98")>=0)a=e.indexOf("Windows 98; Win 9x 4.90")>=0?"Millennium Edition":"98";else if((n=e.match(/Win(?:dows)?(?: Phone)?[ _]?(?:(?:NT|9x) )?((?:(\d+\.)*\d+)|XP|ME|CE)\b/))&&n[1])switch(n[1]){case"6.4":n[1]="10.0";break;case"6.3":n[1]="8.1";break;case"6.2":n[1]="8";break;case"6.1":n[1]="7";break;case"6.0":n[1]="Vista";break;case"5.2":n[1]="Server 2003";break;case"5.1":n[1]="XP";break;case"5.01":n[1]="2000 SP1";break;case"5.0":n[1]="2000";break;case"4.0":n[1]="4.0"}break;case"OS X":n=e.match(/OS X ((\d+[._])+\d+)\b/);break;case"Linux":a=null;break;case"iOS":n=e.match(/OS ((\d+[._])+\d+) like Mac OS X/);break;case"Android":n=e.match(/(?:Android|Adr) (\d+([._]\d+)*)/);break;case"BlackBerry":case"BlackBerryOS":n=e.match(/Version\/((\d+\.)+\d+)/);break;case"BlackBerry Tablet OS":n=e.match(/RIM Tablet OS ((\d+\.)+\d+)/);break;case"Chrome OS":throw new Error("report.os.version = report.browser.version");case"KaiOS":n=e.match(/KAIOS\/(\d+(\.\d+)*)/);break;default:a=null}if(n&&n[1]&&(n[1]=n[1].replace(/_/g,"."),a=n[1]),"OS X"===t&&t){var i=a.split(".");if(i.length>=2){var r=parseInt(i[1],10);t=r<=7?"Mac OS X":r>=12?"macOS":"OS X"}}return{name:t,version:a}}function Wi(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}function qi(e,t,n){let a=new Date(e.toString());switch(t.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+n);break;case"quarter":a.setMonth(a.getMonth()+3*n);break;case"month":a.setMonth(a.getMonth()+n);break;case"week":a.setDate(a.getDate()+7*n);break;case"day":a.setDate(a.getDate()+n);break;case"hour":a.setTime(a.getTime()+36e5*n);break;case"minute":a.setTime(a.getTime()+6e4*n);break;case"second":a.setTime(a.getTime()+1e3*n);break;default:a=void 0}return a}function Qi(...e){return e.filter(e=>!Zi(e)).map(e=>e.replace(/^[\\|/]/,"").replace(/[\\|/]$/,"")).join("/").replace(/\\/g,"/")}function Yi(e){return"function"==typeof e}function Ji(e){return Array.isArray(e)}function Xi(e){return/^https?:\/\/|^\/\//i.test(e)}function Zi(e){return null==e||e.length<1}function $i(e){return null!=e}function er(e){return JSON.stringify(e)}function tr(e,t){return Object.hasOwnProperty.call(e,t)}function nr(){return function(e,...t){const n=[...e];for(let e=0;e<n.length;e++)Reflect.apply(n[e],this,t)}}function ar(){return async function(e,...t){let n=t;const a=[...e];for(let e=0;e<a.length;e++)n=await Reflect.apply(a[e],this,n);return n}}function ir(e,t,n,a){if(!Yi(n))throw Error("Observers must be functions.");if(Reflect.has(e,t))switch(a){case"add":e[t].push(n);break;case"prepend":e[t].unshift(n);break;case"replace":e[t].length=0,e[t].push(n)}else e[t]=[n];return e[t]}!function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var a=e.toLowerCase();if(a)for(var i="",r=0;r<t.length;r++)if(-1!==a.indexOf(t[r])){i="cdn"+(r+1),-1===a.indexOf("/scripts/")&&(-1!==a.indexOf("/next/")?i+="-next":-1!==a.indexOf("/beta/")&&(i+="-beta")),Vi=i+"";break}}catch(e){}}();let rr=!1;const or=Symbol.for("PnPExt"),sr=new Map;function cr(e,t,n,...a){if(rr){const t=[];Reflect.has(n,or)&&t.push(...Reflect.get(n,or));let i=void 0;for(let r=0;r<t.length;r++){const o=t[r];if(Yi(o)?i=o(e,n,...a):"get"===e&&Reflect.has(o,a[0])?i=Reflect.get(o,a[0],n):Reflect.has(o,e)&&(i=Reflect.get(o,e)(n,...a)),void 0!==i)return i}}return t(n,...a)}function dr(e){return t=>(t.observers=e.observers,t._inheritingObservers=!0,t)}function lr(e,t={headers:{}}){return{method:e,...t,headers:{...t.headers}}}function ur(e){return this.start(lr("GET",e))}function fr(e){return this.start(lr("POST",e))}function pr(e,t,n){return Reflect.apply(t,e,[n])}Object.create,Object.create;const mr={pre:ar(),auth:ar(),send:async function(e,...t){if(!Ji(e)||e.length<1)return;const n=e[0];return await Reflect.apply(n,this,t)},parse:ar(),post:ar(),data:nr()};let _r=class extends class{constructor(e,t={}){this.moments=e,this.observers=t,this._onProxy=null,this._emitProxy=null,this._inheritingObservers=!0}using(...e){for(let t=0;t<e.length;t++)e[t](this);return this}get on(){return null===this._onProxy&&(this._onProxy=new Proxy(this,{get:(e,t)=>Object.assign(n=>(e.cloneObserversOnChange(),ir(e.observers,t,n,"add"),e),{toArray:()=>Reflect.has(e.observers,t)?[...Reflect.get(e.observers,t)]:[],replace:n=>(e.cloneObserversOnChange(),ir(e.observers,t,n,"replace"),e),prepend:n=>(e.cloneObserversOnChange(),ir(e.observers,t,n,"prepend"),e),clear:()=>!!Reflect.has(e.observers,t)&&(e.cloneObserversOnChange(),e.observers[t].length=0,!0)})})),this._onProxy}log(e,t=0){this.emit.log(e,t)}error(e){$i(e)&&this.emit.error(e)}get emit(){return null===this._emitProxy&&(this._emitProxy=new Proxy(this,{get:(e,t)=>(...n)=>{const a=Reflect.has(e.observers,t)?Reflect.get(e.observers,t):[];if((!Ji(a)||a.length<1)&&"error"===t)throw Error("Unhandled Exception: "+n[0]);try{const i=Reflect.has(e.moments,t)?Reflect.get(e.moments,t):"init"===t||"dispose"===t?function(e){const t=[...e];for(let e=0;e<t.length;e++)Reflect.apply(t[e],this,[]);return this}:nr();return Reflect.apply(i,e,[a,...n])}catch(e){if("error"===t)throw e;this.error(e)}}})),this._emitProxy}start(e){this.emit.init();const t=this.execute(e);return t.finally(()=>{try{this.emit.dispose()}catch(e){const t=Object.assign(Error("Error in dispose."),{innerException:e});this.error(t)}}),t}cloneObserversOnChange(){var e;this._inheritingObservers&&(this._inheritingObservers=!1,this.observers=(e=this.observers,Reflect.ownKeys(e).reduce((t,n)=>(t[n]=[...e[n]],t),{})))}}{constructor(e,t){super(mr),this.InternalResolve=Symbol.for("Queryable_Resolve"),this.InternalReject=Symbol.for("Queryable_Reject"),this.InternalPromise=Symbol.for("Queryable_Promise"),this.moments[this.InternalPromise]=function(e,...t){let n=t;const a=[...e];for(let e=0;e<a.length;e++)n=Reflect.apply(a[e],this,n);return n};let n="",a=void 0;if("string"==typeof e)n=Qi(e,t);else if(Ji(e)){if(2!==e.length)throw Error("When using the tuple first param only two arguments are supported");const i=e[0];n=Qi(e[1],t),a=i.observers}else{const{_url:i,observers:r}=e;n=Qi(i,t),a=r}void 0!==a&&(this.observers=a,this._inheritingObservers=!0),this._url=n,this._query=new Map}concat(e){return this._url+=e,this}toRequestUrl(){let e=this.toUrl();return this._query.size>0&&(e+="?"+Array.from(this._query).map(e=>`${e[0]}=${encodeURIComponent(e[1])}`).join("&")),e}get query(){return this._query}toUrl(){return this._url}execute(e){if(Reflect.ownKeys(this.observers).length<1)throw Error("No observers registered for this request. (https://pnp.github.io/pnpjs/queryable/queryable#No-observers-registered-for-this-request)");setTimeout(async()=>{const t=function(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}();let n;const a=(e,n)=>{this.log(`[${t}] ${e}`,n)};try{a("Beginning request",1);let[t,i,r]=await this.emit.pre(this.toRequestUrl(),e||{},void 0);if(a("Url: "+t,1),void 0!==r)return a("Result returned from pre, Emitting data"),this.emit.data(r),void a("Emitted data");a("Emitting auth"),[n,i]=await this.emit.auth(new URL(t),i),a("Emitted auth"),i={...i,...e,headers:{...i.headers,...e.headers}},a("Emitting send");let o=await this.emit.send(n,i);a("Emitted send"),a("Emitting parse"),[n,o,r]=await this.emit.parse(n,o,r),a("Emitted parse"),a("Emitting post"),[n,r]=await this.emit.post(n,r),a("Emitted post"),a("Emitting data"),this.emit.data(r),a("Emitted data")}catch(e){a(`Emitting error: "${e.message||e}"`,3),this.error(e),a("Emitted error",3)}finally{a("Finished request",1)}},0);let t=new Promise((e,t)=>{this.on[this.InternalResolve].replace(e),this.on[this.InternalReject].replace(t)});return[t]=this.emit[this.InternalPromise](t),t}};var hr;function br(e,t){return Object.assign({body:er(e)},t)}async function gr(e,t,n){if(!t.ok)throw await vr.init(t);return[e,t,n]}_r=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([e=>new Proxy(e,{construct(t,n,a){let i=Reflect.construct(t,n,a);const r=Reflect.getPrototypeOf(e);if(Reflect.has(r,or)){const e=sr.get(Reflect.get(r,or));e&&(i=function(e,t){return rr=!0,Reflect.has(e,or)||Reflect.set(e,or,[]),n=Reflect.get(e,or),Ji(a=t)?n.push(...a):n.push(a),e;var n,a}(i,e))}const o=new Proxy(i,{apply:(e,t,n)=>cr("apply",(...e)=>Reflect.apply(...e),e,o,n),get:(e,t,n)=>cr("get",(...e)=>Reflect.get(...e),e,t,n),has:(e,t)=>cr("has",(...e)=>Reflect.has(...e),e,t),set:(e,t,n,a)=>cr("set",(...e)=>Reflect.set(...e),e,t,n,a)});return o}}),("function"!=typeof hr&&(hr=function(e){return pr(this,ur,e)}),e=>new Proxy(e,{construct(e,t,n){const a=Object.assign(function(e){const t=void 0===this?a:this;return Reflect.apply(hr,t,[e])},Reflect.construct(e,t,n));return Reflect.setPrototypeOf(a,n.prototype),a}}))],_r);class vr extends Error{constructor(e,t,n=t.status,a=t.statusText){super(e),this.response=t,this.status=n,this.statusText=a,this.isHttpRequestError=!0}static async init(e){const t=await e.clone().text();return new vr(`Error making HttpClient request in queryable [${e.status}] ${e.statusText} ::> ${t}`,e.clone())}}const yr=(e,t)=>pr(e,fr,t),Sr=e=>{return t=e,(e,n)=>new t(e,n);var t};class Dr extends _r{constructor(e,t){if("string"==typeof e){let n="",a="";if(Xi(e)||e.lastIndexOf("/")<0)a=e,n=Qi(e,t);else if(e.lastIndexOf("/")>e.lastIndexOf("(")){const i=e.lastIndexOf("/");a=e.slice(0,i),t=Qi(e.slice(i),t),n=Qi(a,t)}else{const i=e.lastIndexOf("(");a=e.slice(0,i),n=Qi(e,t)}super(n),this.parentUrl=a}else{super(e,t);const n=Ji(e)?e[0]:e;this.parentUrl=n.toUrl();const a=n.query.get("@target");void 0!==a&&this.query.set("@target",a)}}toRequestUrl(){const e=new Map(this.query);let t=this.toUrl().replace(/'!(@.*?)::(.*?)'/gi,(t,n,a)=>(this.log(`Rewriting aliased parameter from match ${t} to label: ${n} value: ${a}`,0),e.set(n,`'${a}'`),n));if(e.size>0){const n=t.indexOf("?")>-1?"&":"?";t+=`${n}${Array.from(e).map(e=>e[0]+"="+e[1]).join("&")}`}return t}select(...e){return e.length>0&&this.query.set("$select",e.map(encodeURIComponent).join(",")),this}expand(...e){return e.length>0&&this.query.set("$expand",e.map(encodeURIComponent).join(",")),this}getParent(e,t,n=this.parentUrl){const a=e([this,n],t),i="@target";return this.query.has(i)&&a.query.set(i,this.query.get(i)),a}}const Ir=Sr(Dr),xr=Sr(class extends Dr{filter(e){return this.query.set("$filter",encodeURIComponent(e)),this}orderBy(e,t=!0){const n="$orderby",a=this.query.has(n)?this.query.get(n).split(","):[];return a.push(`${encodeURIComponent(e)} ${t?"asc":"desc"}`),this.query.set(n,a.join(",")),this}skip(e){return this.query.set("$skip",e.toString()),this}top(e){return this.query.set("$top",e.toString()),this}});class Cr extends Dr{}function Or(e){return function(t){return class extends t{constructor(...t){super(t[0],t.length>1&&void 0!==t[1]?t[1]:e)}}}}Sr(Cr);class wr{constructor(e=""){this._root=Ir(e)}using(...e){return this._root.using(...e),this}create(e,t){return e(this._root,t)}}var Er,Ar,Lr;function kr(e){const t=new Date;return!$i(e)||t>e.expiration?null:e}!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.DistributionList=2]="DistributionList",e[e.SecurityGroup=4]="SecurityGroup",e[e.SharePointGroup=8]="SharePointGroup",e[e.All=15]="All"}(Er||(Er={})),function(e){e[e.None=0]="None",e[e.UserInfoList=1]="UserInfoList",e[e.Windows=2]="Windows",e[e.MembershipProvider=4]="MembershipProvider",e[e.RoleProvider=8]="RoleProvider",e[e.All=15]="All"}(Ar||(Ar={})),function(e){e[e.Invalid=-1]="Invalid",e[e.DefaultView=0]="DefaultView",e[e.NormalView=1]="NormalView",e[e.DialogView=2]="DialogView",e[e.View=3]="View",e[e.DisplayForm=4]="DisplayForm",e[e.DisplayFormDialog=5]="DisplayFormDialog",e[e.EditForm=6]="EditForm",e[e.EditFormDialog=7]="EditFormDialog",e[e.NewForm=8]="NewForm",e[e.NewFormDialog=9]="NewFormDialog",e[e.SolutionForm=10]="SolutionForm",e[e.PAGE_MAXITEMS=11]="PAGE_MAXITEMS"}(Lr||(Lr={}));const Mr=new Map;function Pr(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}Object.create,Object.create;const Tr=Sr(class extends Cr{constructor(e,t="_api/sp.userprofiles.peoplemanager"){super(e,t),this.clientPeoplePickerQuery=new Hr(e).using(dr(this)),this.profileLoader=new Ur(e).using(dr(this))}getEditProfileLink(){return Tr(this,"EditProfileLink")()}getIsMyPeopleListPublic(){return Tr(this,"IsMyPeopleListPublic")()}amIFollowedBy(e){const t=Tr(this,"amifollowedby(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),t()}amIFollowing(e){const t=Tr(this,"amifollowing(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),t()}getFollowedTags(e=20){return Tr(this,`getfollowedtags(${e})`)()}getFollowersFor(e){const t=Tr(this,"getfollowersfor(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),t()}get myFollowers(){return xr(this,"getmyfollowers")}get myProperties(){return Tr(this,"getmyproperties")}getPeopleFollowedBy(e){const t=Tr(this,"getpeoplefollowedby(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),t()}getPropertiesFor(e){const t=Tr(this,"getpropertiesfor(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),t()}get trendingTags(){const e=Tr(this,null);return e.concat(".gettrendingtags"),e()}getUserProfilePropertyFor(e,t){const n=Tr(this,`getuserprofilepropertyfor(accountname=@v, propertyname='${t}')`);return n.query.set("@v",`'${encodeURIComponent(e)}'`),n()}hideSuggestion(e){const t=Tr(this,"hidesuggestion(@v)");return t.query.set("@v",`'${encodeURIComponent(e)}'`),yr(t)}isFollowing(e,t){const n=Tr(this,null);return n.concat(".isfollowing(possiblefolloweraccountname=@v, possiblefolloweeaccountname=@y)"),n.query.set("@v",`'${encodeURIComponent(e)}'`),n.query.set("@y",`'${encodeURIComponent(t)}'`),n()}setMyProfilePic(e){return new Promise((t,n)=>{const a=new FileReader;a.onload=async e=>{const a=e.target.result;try{await yr(Tr(this,"setmyprofilepicture"),{body:a}),t()}catch(e){n(e)}},a.readAsArrayBuffer(e)})}setSingleValueProfileProperty(e,t,n){return yr(Tr(this,"SetSingleValueProfileProperty"),br({accountName:e,propertyName:t,propertyValue:n}))}setMultiValuedProfileProperty(e,t,n){return yr(Tr(this,"SetMultiValuedProfileProperty"),br({accountName:e,propertyName:t,propertyValues:n}))}createPersonalSiteEnqueueBulk(...e){return this.profileLoader.createPersonalSiteEnqueueBulk(e)}get ownerUserProfile(){return this.profileLoader.ownerUserProfile}get userProfile(){return this.profileLoader.userProfile}createPersonalSite(e=!1){return this.profileLoader.createPersonalSite(e)}shareAllSocialData(e){return this.profileLoader.shareAllSocialData(e)}clientPeoplePickerResolveUser(e){return this.clientPeoplePickerQuery.clientPeoplePickerResolveUser(e)}clientPeoplePickerSearchUser(e){return this.clientPeoplePickerQuery.clientPeoplePickerSearchUser(e)}});let Ur=class extends Dr{createPersonalSiteEnqueueBulk(e){return yr(Fr(this,"createpersonalsiteenqueuebulk"),br({emailIDs:e}))}get ownerUserProfile(){return yr(this.getParent(Fr,"_api/sp.userprofiles.profileloader.getowneruserprofile"))}get userProfile(){return yr(Fr(this,"getuserprofile"))}createPersonalSite(e=!1){return yr(Fr(this,`getuserprofile/createpersonalsiteenque(${e})`))}shareAllSocialData(e){return yr(Fr(this,`getuserprofile/shareallsocialdata(${e})`))}};Ur=Pr([Or("_api/sp.userprofiles.profileloader.getprofileloader")],Ur);const Fr=(e,t)=>new Ur(e,t);let Hr=class extends Dr{async clientPeoplePickerResolveUser(e){const t=Rr(this,null);t.concat(".clientpeoplepickerresolveuser");const n=await yr(t,this.getBodyFrom(e));return JSON.parse("object"==typeof n?n.ClientPeoplePickerResolveUser:n)}async clientPeoplePickerSearchUser(e){const t=Rr(this,null);t.concat(".clientpeoplepickersearchuser");const n=await yr(t,this.getBodyFrom(e));return JSON.parse("object"==typeof n?n.ClientPeoplePickerSearchUser:n)}getBodyFrom(e){return br({queryParams:e})}};Hr=Pr([Or("_api/sp.ui.applicationpages.clientpeoplepickerwebserviceinterface")],Hr);const Rr=(e,t)=>new Hr(e,t);var Nr;function Br(e){try{var t=new URL(e);return t.search="",t.hash="",t.toString()}catch(e){return null}}function jr(e){var t=e.toLowerCase();return-1!==t.indexOf("/_layouts")||-1!==t.indexOf("/appcatalog")||-1!==t.indexOf("/_catalogs/")||-1!==t.indexOf("sitepages/forms")||-1!==t.indexOf("/lists")}!function(e){e[e.DefaultZone=0]="DefaultZone",e[e.Intranet=1]="Intranet",e[e.Internet=2]="Internet",e[e.Custom=3]="Custom",e[e.Extranet=4]="Extranet"}(Nr||(Nr={})),Reflect.defineProperty(wr.prototype,"profiles",{configurable:!0,enumerable:!0,get:function(){return this.create(Tr)}});var Vr,zr=(Vr=function(e,t){return(Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gr=function(e,t,n,a){return new(n||(n=Promise))(function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}c((a=a.apply(e,t||[])).next())})},Kr=function(e,t){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Wr=new function e(t){var n,a,i,o,s,c,d,l=this;Object(r.e)(e,this,function(e){s=dt("AISKU"),c=null,o=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var u=function(e){if(!e)return{};var t=G(e.split(";"),function(e,t){var n=t.split("=");if(2===n.length){var a=n[0].toLowerCase(),i=n[1];e[a]=i}return e},{});if(Q(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||"https://dc.services.visualstudio.com"}return t}(r.connectionString),f=u.ingestionendpoint;r.endpointUrl=f?"".concat(f,"/v2/track"):r.endpointUrl,r.instrumentationKey=u.instrumentationkey||r.instrumentationKey}e.appInsights=new Ra,a=new Ai,n=new ji,i=new bi,d=new Dn,e.core=d;var p=!!O(r.disableIkeyDeprecationMessage)||r.disableIkeyDeprecationMessage;r.connectionString||p||Ke(d.logger,1,106,"Instrumentation key support will end soon, see aka.ms/IkeyMigrate"),e.snippet=t,e.config=r,e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4,e.flush=function(e){void 0===e&&(e=!0),Ye(d,function(){return"AISKU.flush"},function(){j(d.getTransmissionControls(),function(t){j(t,function(t){t.flush(e)})})},null,e)},e.onunloadFlush=function(e){void 0===e&&(e=!0),j(d.getTransmissionControls(),function(t){j(t,function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)})})},e.loadAppInsights=function(t,r,s){return void 0===t&&(t=!1),t&&e.config.extensions&&e.config.extensions.length>0&&ie("Extensions not allowed in legacy mode"),Ye(e.core,function(){return"AISKU.loadAppInsights"},function(){var c=[];c.push(i),c.push(a),c.push(n),c.push(e.appInsights),d.initialize(e.config,c,r,s),e.context=a.context,Vi&&e.context&&(e.context.internal.sdkSrc=Vi),function(n){if(n){var a="";O(o)||(a+=o),t&&(a+=".lg"),e.context&&e.context.internal&&(e.context.internal.snippetVer=a||"-"),M(e,function(e,t){F(e)&&!L(t)&&e&&"_"!==e[0]&&-1===V(zi,e)&&(n[e]=t)})}}(e.snippet),e.emptyQueue(),e.pollInternalLogs(),e.addHousekeepingBeforeUnload(l)}),e},e.updateSnippetDefinitions=function(t){!function(e,t,n){if(e&&t&&A(e)&&A(t)){var a=function(a){if(F(a)){var i=t[a];L(i)?n&&!n(a)||(e[a]=re(t,a)):n&&!n(a)||(E(e,a)&&delete e[a],Y(e,a,function(){return t[a]},function(e){t[a]=e})||(e[a]=i))}};for(var i in t)a(i)}}(t,e,function(e){return e&&-1===V(zi,e)})},e.emptyQueue=function(){try{if(T(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&L(e.toString)&&e.toString()}},e.addHousekeepingBeforeUnload=function(e){if(he()||ge()){var t=function(){if(e.onunloadFlush(!1),L(l.core.getPlugin)){var t=l.core.getPlugin("AppInsightsPropertiesPlugin");if(t){var n=t.plugin;n&&n.context&&n.context._sessionManager&&n.context._sessionManager.backup()}}},n=!1,a=e.appInsights.config.disablePageUnloadEvents;c||(c=Rt(s,d.evtNamespace&&d.evtNamespace())),e.appInsights.config.disableFlushOnBeforeUnload||(function(e,t,n,a){var i=!1;return t&&e&&T(e)&&!(i=Vt(e,t,n,a))&&n&&n.length>0&&(i=Vt(e,t,null,a)),i}(["beforeunload","unload","pagehide"],t,a,c)&&(n=!0),Gt(t,a,c)&&(n=!0),n||(i=Se())&&i.product&&"ReactNative"===i.product||Ke(e.appInsights.core.logger,1,19,"Could not add handler for beforeunload and pagehide")),n||e.appInsights.config.disableFlushOnUnload||Gt(t,a,c)}var i},e.getSender=function(){return i},e.unload=function(t,n,a){var i;e.onunloadFlush(t),c&&(zt(["beforeunload","unload","pagehide"],null,c),zt(["pagehide"],null,i=Rt(wt,c)),zt(["visibilitychange"],null,i)),d.unload&&d.unload(t,n,a)},se(e,e.appInsights,["getCookieMgr","trackEvent","trackPageView","trackPageViewPerformance","trackException","_onerror","trackTrace","trackMetric","startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),se(e,function(){return n},["trackDependencyData","addDependencyListener"]),se(e,d,["addTelemetryInitializer","pollInternalLogs","stopPollingInternalLogs","getPlugin","addPlugin","evtNamespace","addUnloadCb","getTraceCtx"]),se(e,function(){var e=a.context;return e?e.user:null},["setAuthenticatedUserContext","clearAuthenticatedUserContext"])})}({config:{instrumentationKey:"0a905896-4af5-4d22-93dc-6b61b2208b45",autoTrackPageVisitTime:!0}}),qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.apiURL="https://spoanalyticstelemetryprocessor.azurewebsites.net",t.lastUpdatedLinks=[],t}return zr(t,e),t.prototype.onInit=function(){var e,t=this;return this.sp=function(e=""){return"object"!=typeof e||Reflect.has(e,"length")||(e=e._root),new wr(e)}().using((e=this.context,t=>{return t.using(e=>{return e.using((t={Accept:"application/json","Content-Type":"application/json;charset=utf-8"},e=>(e.on.pre(async function(e,n,a){return n.headers={...n.headers,...t},[e,n,a]}),e))),e;var t},e=>(e.on.pre(async(e,t,n)=>(t.cache="no-cache",t.credentials="same-origin",[e,t,n])),e.using(e=>(e.on.pre(async function(e,t,n){let a="PnPCoreJS:3.4.1:";const{pathname:i}=new URL(e);return a+=i.substring(i.indexOf("_api/")+5).split("/").map((e,t,n)=>t===n.length-1?e:e[0]).join("."),a.length>32&&(a=a.substring(0,32)),this.log("Request Tag: "+a,0),t.headers={...t.headers,"X-ClientService-ClientTag":a},[e,t,n]}),e),e=>(e.on.error(function(e){this.emit[this.InternalReject](e)}),e),e=>(e.on.data(function(e){this.emit[this.InternalResolve](e)}),e)),e),function(e){const{interval:t,replace:n,retries:a}={replace:!0,interval:200,retries:3,...void 0};return e=>(n&&e.on.send.clear(),e.on.send(function(e,n){let i,r,o=t,s=0;const c=async()=>{if(s>=a)throw r||new vr(`Retry count exceeded (${a}) for this request. ${i.status}: ${i.statusText};`,i);if(s++,void 0!==i&&429!==(null==i?void 0:i.status)&&503!==(null==i?void 0:i.status)&&504!==(null==i?void 0:i.status))return i;void 0!==i&&(i.headers.has("Retry-After")?o=1e3*parseInt(i.headers.get("Retry-After"),10):o*=2,this.log(`Attempt #${s} to retry request which failed with ${i.status}: ${i.statusText}`,0),await(t=o,new Promise(e=>{setTimeout(e,t)})));try{const t=e.toString();return this.log(`Fetch: ${n.method} ${t}`,0),i=await fetch(t,n),i.ok?i:c()}catch(e){if(/AbortError/.test(e.name))throw e;return r=e,c()}var t};return c()}),e)}(),(a=async e=>{if(e.headers.has("Content-Length")&&0===parseFloat(e.headers.get("Content-Length"))||204===e.status)return{};const t=await e.text();return function(e){let t=e;return tr(e,"d")?t=tr(e.d,"results")?e.d.results:e.d:tr(e,"value")&&(t=e.value),t}(t.replace(/\s/gi,"").length>0?JSON.parse(t):{})},e=>(e.on.parse.replace(gr),e.on.parse(async(e,t,n)=>(void 0===n&&(n=await a(t)),[e,t,n])),e)),(n=t=>{var n,a,i;if(new RegExp("^"+Qi(e.pageContext.web.absoluteUrl,"/_api"),"i").test(t)&&(null===(a=null===(n=null==e?void 0:e.pageContext)||void 0===n?void 0:n.legacyPageContext)||void 0===a?void 0:a.formDigestValue)){const t=((null===(i=e.pageContext.legacyPageContext)||void 0===i?void 0:i.formDigestTimeoutSeconds)||1600)-performance.now()/1e3-15;return{value:e.pageContext.legacyPageContext.formDigestValue,expiration:qi(new Date,"second",t)}}},e=>(e.on.pre(async function(e,t,a){return/get/i.test(t.method)||t.headers&&(tr(t.headers,"X-RequestDigest")||tr(t.headers,"Authorization"))||this.on.auth(async(e,t)=>{const a=e.toString(),i=function(e){if(Zi(e))return"";let t=e.indexOf("_api/");return t<0&&(t=e.indexOf("_vti_bin/")),t>-1?e.substr(0,t):e}(a);let r=kr(Mr.get(i));return $i(r)||"function"!=typeof n||(r=kr(n(a,t))),$i(r)||(r=await fetch(Qi(i,"/_api/contextinfo"),{cache:"no-cache",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json;odata=verbose;charset=utf-8"},method:"POST"}).then(e=>e.json()).then(e=>({expiration:qi(new Date,"second",e.FormDigestTimeoutSeconds),value:e.FormDigestValue}))),$i(r)&&(t.headers={"X-RequestDigest":r.value,...t.headers},Mr.set(i,r)),[e,t]}),[e,t,a]}),e))),t.on.pre.prepend(async(t,n,a)=>(Xi(t)||(t=Qi(e.pageContext.web.absoluteUrl,t)),[t,n,a])),t;var n,a})),this.isOISite()?(console.log("It is an OI Site"),new Promise(function(e,n){var a;t.deviceInfo={browser:Gi(a=a||navigator.userAgent),os:Ki(a),isMobile:Wi(a)},t.InitUserInfo().then(function(){t.initAppInsight(),t.doOnReady(),e()})})):(console.log("It is not an OI Site"),Promise.resolve())},t.prototype.InitUserInfo=function(){var e=this;return new Promise(function(t,n){return Gr(e,void 0,void 0,function(){var e=this;return Kr(this,function(n){return this.tryLoadUserFromCache()?t():this.context.msGraphClientFactory.getClient().then(function(n){n.api("/me?$select=country").get(function(n,a,i){return Gr(e,void 0,void 0,function(){var e;return Kr(this,function(n){return localStorage.setItem("_cache_user",this.context.pageContext.user.loginName),localStorage.setItem("_cache_userCountry",null!==(e=a.country)&&void 0!==e?e:"DummyCountry"),console.log(a),this.tryLoadUserFromCache(),t(),[2]})})})}),[2]})})})},t.prototype.tryLoadUserFromCache=function(){return!(localStorage.getItem("_cache_user")!=this.context.pageContext.user.loginName||!localStorage.getItem("_cache_userCountry")||(this.userInfo={userName:this.context.pageContext.user.loginName,displayName:this.context.pageContext.user.displayName,userCountry:localStorage.getItem("_cache_userCountry")},0))},t.prototype.initAppInsight=function(){var e=this;Wr.loadAppInsights(),Wr.addTelemetryInitializer(function(t){t.data.customData={DeviceInfo:e.deviceInfo,UserInfo:e.userInfo}}),Wr.setAuthenticatedUserContext(this.context.pageContext.user.email),Wr.trackPageView(),console.log("Init Done..")},t.prototype.doOnReady=function(){"complete"!=document.readyState?setTimeout(this.doOnReady.bind(this),500):(jr(Br(window.location.href))||setInterval(this.collectAndSendLinksPreiodically.bind(this),1e3),this.collectAndSendUserJournyData(),window.onclick=this.collectAndSendClickData.bind(this))},t.prototype.isOISite=function(){return!!window.location.href.match(/[a-zA-Z.]\/sites\/[a-zA-Z]{2,3}-oi-[a-zA-Z0-9]+/i)},t.prototype.collectAndSendUserJournyData=function(e){var t=document.referrer;Wr.trackTrace({message:"UserJourney"},{Prev:t,CurrentPage:window.location.href,nextPage:e})},t.prototype.collectAndSendClickData=function(e){"a"==e.target.localName&&(this.collectAndSendUserJournyData(e.target.href),Wr.trackEvent({name:e.target.innerText,properties:{LinkTitle:e.target.innerText,LinkUrl:e.target.href}}),Wr.flush())},t.prototype.collectAndSendLinksPreiodically=function(){this.lastUpdatedLinks=function(e,t){var n=function(e){var t=e.filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return Br(e)});return(t=t.filter(function(e){return null!=e})).filter(function(e){return!jr(e)})}(function(){for(var e=[],t=document.getElementsByTagName("a"),n=0;n<t.length;n++){var a=t[n];e.push(a.href)}return e}());if(n.length>t.length){var a=n.filter(function(e){return-1===t.indexOf(e)});console.log("SPOAnalytics : Collected "+n.length+" Links. New "+a.length),t=n;var i=Br(window.location.href);0==a.length?e.trackTrace({message:"LinkData"},{Links:n,Page:i,Action:"New"}):e.trackTrace({message:"LinkData"},{Links:a,Page:i,Action:"Append"})}return t}(Wr,this.lastUpdatedLinks)},function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);r>3&&o&&Object.defineProperty(t,n,o)}([a.override],t.prototype,"onInit",null),t}(i.BaseApplicationCustomizer);t.default=qr},ltvU:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"t",function(){return s}),n.d(t,"n",function(){return c});var a=n("FXxO"),i=n("4El3"),r=((Object(i.e)()||{}).Symbol,(Object(i.e)()||{}).Reflect,a.e||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])a.r[a.c].call(t,r)&&(e[r]=t[r]);return e}),o=function(e,t){return(o=a.t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a.c](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==a.s&&null!==t&&Object(i.n)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[a.l]=null===t?Object(i.t)(t):(n[a.l]=t[a.l],new n)}function c(e,t){for(var n=0,a=t.length,i=e.length;n<a;n++,i++)e[i]=t[n];return e}},wxtz:function(e,t){e.exports=a},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})});